<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ë¬¸ë²• í•™ìŠµ: -(ìœ¼)ã„¹ê¹Œ ë´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        @media (min-width: 640px) {
            .card {
                padding: 2rem;
                margin-bottom: 2rem;
            }
        }
        .gradient-text {
            background: linear-gradient(to right, #4f46e5, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn {
            border-radius: 10px;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(0,0,0,0.1);
        }
        .btn-primary {
            background-color: #4f46e5;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
        .tab-btn {
            padding: 0.75rem 1.25rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        .tab-btn.active {
            color: #4f46e5;
            background-color: #e0e7ff;
            border-color: #4f46e5;
        }
        .tab-btn:not(.active) {
            color: #4b5563;
        }
        .quiz-input {
            border: 2px solid #d1d5db;
            border-radius: 10px;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: border-color 0.2s;
        }
        .quiz-input:focus {
            outline: none;
            border-color: #4f46e5;
        }
        .feedback {
            font-weight: 700;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 8px;
            text-align: center;
        }
        .feedback-correct {
            color: #16a34a;
            background-color: #dcfce7;
        }
        .feedback-incorrect {
            color: #dc2626;
            background-color: #fee2e2;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">
    <div class="max-w-4xl mx-auto">
        
        <header class="text-center mb-6">
            <h1 class="text-3xl sm:text-4xl font-bold gradient-text" data-key="main_title">ë¬¸ë²•ê³¼ í‘œí˜„ 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´</h1>
            <p class="text-gray-600 mt-2" data-key="main_subtitle">Grammar and Expression 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´</p>
            <div class="mt-4">
                <select id="lang-selector" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-base py-2 px-3">
                    <option value="ko">í•œêµ­ì–´</option>
                    <option value="en">English</option>
                    <option value="vi">Tiáº¿ng Viá»‡t</option>
                    <option value="ja">æ—¥æœ¬èª</option>
                    <option value="zh">ä¸­æ–‡</option>
                </select>
            </div>
        </header>

        <!-- Tab Navigation -->
        <div class="flex justify-center flex-wrap space-x-2 sm:space-x-4 mb-6 bg-gray-100 p-2 rounded-xl">
            <button class="tab-btn active" onclick="changeView('explanation')" data-key="tab_explanation">ì„¤ëª…</button>
            <button class="tab-btn" onclick="changeView('practice')" data-key="tab_practice">ì—°ìŠµ</button>
            <button class="tab-btn" onclick="changeView('quiz')" data-key="tab_quiz">ì—°ìŠµ ë¬¸ì œ</button>
        </div>

        <!-- Content Views -->
        <main>
            <!-- Explanation View -->
            <div id="explanation-view">
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="explanation_title">ë¬´ì—‡ì„ ë°°ìš¸ê¹Œìš”?</h2>
                    <p class="text-gray-700 mb-2" data-key="explanation_desc_1">
                        <strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong>ëŠ” ë¯¸ë˜ì˜ ì–´ë–¤ ì¼ì´ë‚˜ ìƒí™©ì— ëŒ€í•´ ê±±ì •í•˜ê±°ë‚˜ ìš°ë ¤í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.
                    </p>
                     <p class="text-gray-700" data-key="explanation_desc_2">
                        '~í•  ê²ƒ ê°™ì•„ì„œ ê±±ì •ë¼ìš”' ë˜ëŠ” '~í•  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ'ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
                    </p>
                    <div class="mt-6 pt-6 border-t">
                        <h3 class="font-bold text-lg text-gray-800 mb-2" data-key="conjugation_title">ë§Œë“œëŠ” ë²•</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li data-key="conjugation_rule_1">ë™ì‚¬/í˜•ìš©ì‚¬ ì–´ê°„ì´ ëª¨ìŒì´ë‚˜ 'ã„¹'ë¡œ ëë‚˜ë©´ + <strong>ã„¹ê¹Œ ë´</strong> (ì˜ˆ: ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)</li>
                            <li data-key="conjugation_rule_2">ë™ì‚¬/í˜•ìš©ì‚¬ ì–´ê°„ì´ ììŒìœ¼ë¡œ ëë‚˜ë©´ + <strong>ì„ê¹Œ ë´</strong> (ì˜ˆ: ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Practice View -->
            <div id="practice-view" class="hidden">
                 <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="dialogue_title">ëŒ€í™” ì˜ˆì‹œ</h2>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-lg">A</div>
                            <div class="bg-gray-100 rounded-xl p-3 sm:p-4">
                                <p class="text-gray-800" data-key="dialogue_a_1">ì•„í‚¤ë¼ ì”¨, ë°œí‘œ ì¤€ë¹„ ì˜ë¼ ê°€ìš”?</p>
                                <p class="text-sm text-gray-500" data-key="dialogue_a_2">Akira, how are the presentation preparations going?</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-pink-100 text-pink-600 flex items-center justify-center font-bold text-lg">B</div>
                            <div class="bg-gray-100 rounded-xl p-3 sm:p-4">
                                <p class="text-gray-800" data-key="dialogue_b_1">ì¤€ë¹„ëŠ” ì—´ì‹¬íˆ í–ˆëŠ”ë° <strong>ì‹¤ìˆ˜í• ê¹Œ ë´</strong> ê±±ì •ì´ì—ìš”.</p>
                                <p class="text-sm text-gray-500" data-key="dialogue_b_2">I prepared hard, but I'm worried I'll make a mistake.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="examples_title">ë¬¸ì¥ ì˜ˆì‹œ</h2>
                    <ul class="space-y-4">
                        <li>
                            <p class="text-gray-800">ë‚´ì¼ ì†Œí’ ê°€ëŠ”ë° ë‚ ì”¨ê°€ <strong>ë‚˜ì ê¹Œ ë´</strong> ê±±ì •ì´ì—ìš”.</p>
                        </li>
                        <li>
                            <p class="text-gray-800">ë¹„ë¹”ë°¥ì´ ë„ˆë¬´ <strong>ë§¤ìš¸ê¹Œ ë´</strong> ê³ ì¶”ì¥ì„ ì¡°ê¸ˆë§Œ ë„£ì—ˆì–´ìš”.</p>
                        </li>
                        <li>
                            <p class="text-gray-800">ì–´ë¨¸ë‹ˆê°€ <strong>ê±±ì •í•˜ì‹¤ê¹Œ ë´</strong> ë¯¸ë¦¬ ì „í™”í–ˆì–´ìš”.</p>
                        </li>
                         <li>
                            <p class="text-gray-800">ë™ìƒì´ ì‹œí—˜ì— <strong>ë–¨ì–´ì§ˆê¹Œ ë´</strong> ì œê°€ ìˆ˜í•™ ê³µë¶€ë¥¼ ë„ì™€ì¤¬ì–´ìš”.</p>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Quiz View -->
            <div id="quiz-view" class="hidden">
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2" data-key="quiz_title">ì—°ìŠµ ë¬¸ì œ</h2>
                    <p class="text-gray-600 mb-6" data-key="quiz_instruction">ê´„í˜¸ ì•ˆì˜ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”.</p>
                    <div id="quiz-container"></div>
                    <div class="mt-6 flex justify-between items-center">
                        <button id="check-btn" class="btn btn-primary" data-key="check_button">ì •ë‹µ í™•ì¸</button>
                        <button id="next-btn" class="btn bg-gray-600 hover:bg-gray-700 hidden" data-key="next_button">ë‹¤ìŒ ë¬¸ì œ</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const translations = {
            ko: {
                main_title: "ë¬¸ë²•ê³¼ í‘œí˜„ 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                main_subtitle: "Grammar and Expression 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                tab_explanation: "ì„¤ëª…",
                tab_practice: "ì—°ìŠµ",
                tab_quiz: "ì—°ìŠµ ë¬¸ì œ",
                explanation_title: "ë¬´ì—‡ì„ ë°°ìš¸ê¹Œìš”?",
                explanation_desc_1: "<strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong>ëŠ” ë¯¸ë˜ì˜ ì–´ë–¤ ì¼ì´ë‚˜ ìƒí™©ì— ëŒ€í•´ ê±±ì •í•˜ê±°ë‚˜ ìš°ë ¤í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.",
                explanation_desc_2: "'~í•  ê²ƒ ê°™ì•„ì„œ ê±±ì •ë¼ìš”' ë˜ëŠ” '~í•  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ì„œ'ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.",
                conjugation_title: "ë§Œë“œëŠ” ë²•",
                conjugation_rule_1: "ë™ì‚¬/í˜•ìš©ì‚¬ ì–´ê°„ì´ ëª¨ìŒì´ë‚˜ 'ã„¹'ë¡œ ëë‚˜ë©´ + <strong>ã„¹ê¹Œ ë´</strong> (ì˜ˆ: ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)",
                conjugation_rule_2: "ë™ì‚¬/í˜•ìš©ì‚¬ ì–´ê°„ì´ ììŒìœ¼ë¡œ ëë‚˜ë©´ + <strong>ì„ê¹Œ ë´</strong> (ì˜ˆ: ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)",
                dialogue_title: "ëŒ€í™” ì˜ˆì‹œ",
                dialogue_a_1: "ì•„í‚¤ë¼ ì”¨, ë°œí‘œ ì¤€ë¹„ ì˜ë¼ ê°€ìš”?",
                dialogue_a_2: "Akira, how are the presentation preparations going?",
                dialogue_b_1: "ì¤€ë¹„ëŠ” ì—´ì‹¬íˆ í–ˆëŠ”ë° <strong>ì‹¤ìˆ˜í• ê¹Œ ë´</strong> ê±±ì •ì´ì—ìš”.",
                dialogue_b_2: "I prepared hard, but I'm worried I'll make a mistake.",
                examples_title: "ë¬¸ì¥ ì˜ˆì‹œ",
                quiz_title: "ì—°ìŠµ ë¬¸ì œ",
                quiz_instruction: "ê´„í˜¸ ì•ˆì˜ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”.",
                check_button: "ì •ë‹µ í™•ì¸",
                next_button: "ë‹¤ìŒ ë¬¸ì œ",
                feedback_correct: "ì •ë‹µì…ë‹ˆë‹¤!",
                feedback_incorrect_template: (answer) => `í‹€ë ¸ì–´ìš”. ì •ë‹µì€ "${answer}" ì…ë‹ˆë‹¤.`,
                quiz_end: "ëª¨ë“  ë¬¸ì œë¥¼ ë‹¤ í’€ì—ˆì–´ìš”! ì •ë§ ì˜í–ˆì–´ìš”! ğŸ‘"
            },
            en: {
                main_title: "Grammar and Expression 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                main_subtitle: "",
                tab_explanation: "Explanation",
                tab_practice: "Practice",
                tab_quiz: "Quiz",
                explanation_title: "What will we learn?",
                explanation_desc_1: "<strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong> is an expression used when you are worried or concerned about a future event or situation.",
                explanation_desc_2: "It means 'I'm worried that...' or 'in case...'.",
                conjugation_title: "Conjugation",
                conjugation_rule_1: "Verb/Adjective stem ends in a vowel or 'ã„¹' + <strong>ã„¹ê¹Œ ë´</strong> (e.g., ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)",
                conjugation_rule_2: "Verb/Adjective stem ends in a consonant + <strong>ì„ê¹Œ ë´</strong> (e.g., ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)",
                dialogue_title: "Dialogue Example",
                dialogue_a_1: "Akira, how are the presentation preparations going?",
                dialogue_a_2: "",
                dialogue_b_1: "I prepared hard, but I'm worried <strong>I'll make a mistake</strong>.",
                dialogue_b_2: "",
                examples_title: "Example Sentences",
                quiz_title: "Practice Quiz",
                quiz_instruction: "Complete the sentence using the word in parentheses.",
                check_button: "Check Answer",
                next_button: "Next Question",
                feedback_correct: "Correct!",
                feedback_incorrect_template: (answer) => `Incorrect. The answer is "${answer}".`,
                quiz_end: "You've completed all the questions! Great job! ğŸ‘"
            },
            vi: {
                main_title: "Ngá»¯ phÃ¡p vÃ  biá»ƒu hiá»‡n 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                main_subtitle: "",
                tab_explanation: "Giáº£i thÃ­ch",
                tab_practice: "Luyá»‡n táº­p",
                tab_quiz: "CÃ¢u Ä‘á»‘",
                explanation_title: "ChÃºng ta sáº½ há»c gÃ¬?",
                explanation_desc_1: "<strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong> lÃ  biá»ƒu hiá»‡n Ä‘Æ°á»£c sá»­ dá»¥ng khi báº¡n lo láº¯ng hoáº·c quan ngáº¡i vá» má»™t sá»± kiá»‡n hoáº·c tÃ¬nh huá»‘ng trong tÆ°Æ¡ng lai.",
                explanation_desc_2: "NÃ³ cÃ³ nghÄ©a lÃ  'TÃ´i lo ráº±ng...' hoáº·c 'phÃ²ng khi...'.",
                conjugation_title: "CÃ¡ch chia",
                conjugation_rule_1: "Gá»‘c Ä‘á»™ng tá»«/tÃ­nh tá»« káº¿t thÃºc báº±ng nguyÃªn Ã¢m hoáº·c 'ã„¹' + <strong>ã„¹ê¹Œ ë´</strong> (vÃ­ dá»¥: ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)",
                conjugation_rule_2: "Gá»‘c Ä‘á»™ng tá»«/tÃ­nh tá»« káº¿t thÃºc báº±ng phá»¥ Ã¢m + <strong>ì„ê¹Œ ë´</strong> (vÃ­ dá»¥: ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)",
                dialogue_title: "VÃ­ dá»¥ há»™i thoáº¡i",
                dialogue_a_1: "Akira, viá»‡c chuáº©n bá»‹ bÃ i phÃ¡t biá»ƒu tháº¿ nÃ o rá»“i?",
                dialogue_a_2: "",
                dialogue_b_1: "TÃ´i Ä‘Ã£ chuáº©n bá»‹ ká»¹ lÆ°á»¡ng, nhÆ°ng tÃ´i lo <strong>sáº½ máº¯c lá»—i</strong>.",
                dialogue_b_2: "",
                examples_title: "VÃ­ dá»¥ cÃ¢u",
                quiz_title: "CÃ¢u Ä‘á»‘ thá»±c hÃ nh",
                quiz_instruction: "HoÃ n thÃ nh cÃ¢u báº±ng cÃ¡ch sá»­ dá»¥ng tá»« trong ngoáº·c.",
                check_button: "Kiá»ƒm tra Ä‘Ã¡p Ã¡n",
                next_button: "CÃ¢u tiáº¿p theo",
                feedback_correct: "ÄÃºng rá»“i!",
                feedback_incorrect_template: (answer) => `Sai rá»“i. ÄÃ¡p Ã¡n lÃ  "${answer}".`,
                quiz_end: "Báº¡n Ä‘Ã£ hoÃ n thÃ nh táº¥t cáº£ cÃ¡c cÃ¢u há»i! LÃ m tá»‘t láº¯m! ğŸ‘"
            },
            ja: {
                main_title: "æ–‡æ³•ã¨è¡¨ç¾ 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                main_subtitle: "",
                tab_explanation: "èª¬æ˜",
                tab_practice: "ç·´ç¿’",
                tab_quiz: "ç·´ç¿’å•é¡Œ",
                explanation_title: "ä½•ã‚’å­¦ã³ã¾ã™ã‹ï¼Ÿ",
                explanation_desc_1: "<strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong>ã¯ã€æœªæ¥ã®ã‚ã‚‹å‡ºæ¥äº‹ã‚„çŠ¶æ³ã«ã¤ã„ã¦å¿ƒé…ã—ãŸã‚Šã€æ‡¸å¿µã—ãŸã‚Šã™ã‚‹ã¨ãã«ä½¿ã†è¡¨ç¾ã§ã™ã€‚",
                explanation_desc_2: "ã€Œã€œã™ã‚‹ã‹ã¨å¿ƒé…ã§ã€ã¾ãŸã¯ã€Œã€œå ´åˆã«å‚™ãˆã¦ã€ã¨ã„ã†æ„å‘³ã‚’æŒã¡ã¾ã™ã€‚",
                conjugation_title: "ä½œã‚Šæ–¹",
                conjugation_rule_1: "å‹•è©/å½¢å®¹è©ã®èªå¹¹ãŒæ¯éŸ³ã¾ãŸã¯ã€Œã„¹ã€ã§çµ‚ã‚ã‚‹å ´åˆ + <strong>ã„¹ê¹Œ ë´</strong> (ä¾‹: ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)",
                conjugation_rule_2: "å‹•è©/å½¢å®¹è©ã®èªå¹¹ãŒå­éŸ³ã§çµ‚ã‚ã‚‹å ´åˆ + <strong>ì„ê¹Œ ë´</strong> (ä¾‹: ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)",
                dialogue_title: "ä¼šè©±ã®ä¾‹",
                dialogue_a_1: "ã‚ãã‚‰ã•ã‚“ã€ç™ºè¡¨ã®æº–å‚™ã¯é †èª¿ã§ã™ã‹ï¼Ÿ",
                dialogue_a_2: "",
                dialogue_b_1: "æº–å‚™ã¯é ‘å¼µã‚Šã¾ã—ãŸãŒã€<strong>å¤±æ•—ã™ã‚‹ã‹ã¨</strong>å¿ƒé…ã§ã™ã€‚",
                dialogue_b_2: "",
                examples_title: "ä¾‹æ–‡",
                quiz_title: "ç·´ç¿’å•é¡Œ",
                quiz_instruction: "æ‹¬å¼§å†…ã®å˜èªã‚’ä½¿ã£ã¦æ–‡ç« ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„ã€‚",
                check_button: "æ­£è§£ç¢ºèª",
                next_button: "æ¬¡ã®å•é¡Œ",
                feedback_correct: "æ­£è§£ã§ã™ï¼",
                feedback_incorrect_template: (answer) => `ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ã¯ã€Œ${answer}ã€ã§ã™ã€‚`,
                quiz_end: "ã™ã¹ã¦ã®å•é¡Œã‚’å®Œäº†ã—ã¾ã—ãŸï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ğŸ‘"
            },
            zh: {
                main_title: "è¯­æ³•ä¸è¡¨è¾¾ 1: A/V-(ìœ¼)ã„¹ê¹Œ ë´",
                main_subtitle: "",
                tab_explanation: "è¯´æ˜",
                tab_practice: "ç»ƒä¹ ",
                tab_quiz: "ç»ƒä¹ é¢˜",
                explanation_title: "æˆ‘ä»¬å°†å­¦ä¹ ä»€ä¹ˆï¼Ÿ",
                explanation_desc_1: "<strong>-(ìœ¼)ã„¹ê¹Œ ë´</strong> æ˜¯ä¸€ä¸ªç”¨äºè¡¨è¾¾å¯¹æœªæ¥æŸäº‹æˆ–æƒ…å†µçš„æ‹…å¿ƒæˆ–å¿§è™‘çš„è¡¨è¾¾æ–¹å¼ã€‚",
                explanation_desc_2: "å®ƒçš„æ„æ€æ˜¯â€œæˆ‘æ‹…å¿ƒä¼š...â€æˆ–â€œä»¥é˜²...â€ã€‚",
                conjugation_title: "æ„æˆæ–¹æ³•",
                conjugation_rule_1: "åŠ¨è¯/å½¢å®¹è¯è¯å¹²ä»¥å…ƒéŸ³æˆ– 'ã„¹' ç»“å°¾ + <strong>ã„¹ê¹Œ ë´</strong> (ä¾‹å¦‚: ê°€ë‹¤ â†’ ê°ˆê¹Œ ë´, ë§Œë“¤ë‹¤ â†’ ë§Œë“¤ê¹Œ ë´)",
                conjugation_rule_2: "åŠ¨è¯/å½¢å®¹è¯è¯å¹²ä»¥è¾…éŸ³ç»“å°¾ + <strong>ì„ê¹Œ ë´</strong> (ä¾‹å¦‚: ë¨¹ë‹¤ â†’ ë¨¹ì„ê¹Œ ë´, ì‘ë‹¤ â†’ ì‘ì„ê¹Œ ë´)",
                dialogue_title: "å¯¹è¯ç¤ºä¾‹",
                dialogue_a_1: "Akiraï¼Œå‘è¡¨å‡†å¤‡å¾—æ€ä¹ˆæ ·äº†ï¼Ÿ",
                dialogue_a_2: "",
                dialogue_b_1: "è™½ç„¶å¾ˆåŠªåŠ›åœ°å‡†å¤‡äº†ï¼Œä½†<strong>æ‹…å¿ƒä¼šå¤±è¯¯</strong>ã€‚",
                dialogue_b_2: "",
                examples_title: "ä¾‹å¥",
                quiz_title: "ç»ƒä¹ é¢˜",
                quiz_instruction: "è¯·ä½¿ç”¨æ‹¬å·ä¸­çš„å•è¯å®Œæˆå¥å­ã€‚",
                check_button: "ç¡®è®¤ç­”æ¡ˆ",
                next_button: "ä¸‹ä¸€é¢˜",
                feedback_correct: "å›ç­”æ­£ç¡®ï¼",
                feedback_incorrect_template: (answer) => `å›ç­”é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯â€œ${answer}â€ã€‚`,
                quiz_end: "ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰é—®é¢˜ï¼åšå¾—å¥½ï¼ğŸ‘"
            }
        };

        const quizData = [
            // Adjectives
            { type: "í˜•ìš©ì‚¬", base: "ë¥ë‹¤", sentence: "ë‚ ì”¨ê°€ (ë¥ë‹¤) ___ ì—ì–´ì»¨ì„ ì¼°ì–´ìš”.", answer: "ë”ìš¸ê¹Œ ë´" },
            { type: "í˜•ìš©ì‚¬", base: "ì§œë‹¤", sentence: "ìŒì‹ì´ (ì§œë‹¤) ___ ë¬¼ì„ ë§ì´ ë§ˆì…¨ì–´ìš”.", answer: "ì§¤ê¹Œ ë´" },
            { type: "í˜•ìš©ì‚¬", base: "ë³µì¡í•˜ë‹¤", sentence: "ê¸¸ì´ (ë³µì¡í•˜ë‹¤) ___ ì§€í•˜ì² ì„ íƒ”ì–´ìš”.", answer: "ë³µì¡í• ê¹Œ ë´" },
            // Verbs
            { type: "ë™ì‚¬", base: "ì˜¤ë‹¤", sentence: "ë¹„ê°€ (ì˜¤ë‹¤) ___ ìš°ì‚°ì„ ê°€ì ¸ì™”ì–´ìš”.", answer: "ì˜¬ê¹Œ ë´" },
            { type: "ë™ì‚¬", base: "ê¸°ë‹¤ë¦¬ë‹¤", sentence: "ì‚¬ëŒë“¤ì´ (ê¸°ë‹¤ë¦¬ë‹¤) ___ ì„œë‘˜ëŸ¬ì„œ ê°”ì–´ìš”.", answer: "ê¸°ë‹¤ë¦´ê¹Œ ë´" },
            { type: "ë™ì‚¬", base: "ìŠì–´ë²„ë¦¬ë‹¤", sentence: "ì•½ì†ì„ (ìŠì–´ë²„ë¦¬ë‹¤) ___ ë‹¬ë ¥ì— í‘œì‹œí–ˆì–´ìš”.", answer: "ìŠì–´ë²„ë¦´ê¹Œ ë´" },
        ];

        let currentQuestionIndex = 0;
        let currentLang = 'ko';

        const quizContainer = document.getElementById('quiz-container');
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');
        const langSelector = document.getElementById('lang-selector');

        function changeView(viewId) {
            document.querySelectorAll('main > div').forEach(view => view.classList.add('hidden'));
            document.getElementById(`${viewId}-view`).classList.remove('hidden');

            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[onclick="changeView('${viewId}')"]`).classList.add('active');
            
            if (viewId === 'quiz') {
                currentQuestionIndex = 0;
                loadQuestion();
            }
        }

        function changeLanguage() {
            currentLang = langSelector.value;
            const langData = translations[currentLang];
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.dataset.key;
                if (langData[key]) {
                    el.innerHTML = langData[key];
                }
            });
        }
        
        function loadQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];
            quizContainer.innerHTML = `
                <p class="text-sm font-bold text-indigo-600 mb-2">${currentQuestion.type}</p>
                <p class="text-lg text-gray-800 mb-3">${currentQuestionIndex + 1}. ${currentQuestion.sentence}</p>
                <div class="flex items-center space-x-2">
                    <input type="text" id="user-answer" class="quiz-input flex-grow" placeholder="...">
                </div>
                <div id="feedback-container" class="feedback"></div>
            `;
            const input = document.getElementById('user-answer');
            input.addEventListener('keydown', (e) => {
                if(e.key === 'Enter') checkAnswer();
            });
            input.focus();
            hideFeedback();
            nextBtn.classList.add('hidden');
            checkBtn.classList.remove('hidden');
        }
        
        function hideFeedback() {
             const feedbackContainer = document.getElementById('feedback-container');
             feedbackContainer.textContent = '';
             feedbackContainer.className = 'feedback';
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('user-answer').value.trim();
            const correctAnswer = quizData[currentQuestionIndex].answer;
            const feedbackContainer = document.getElementById('feedback-container');
            const langData = translations[currentLang];

            if (userAnswer === correctAnswer) {
                feedbackContainer.textContent = langData.feedback_correct;
                feedbackContainer.className = 'feedback feedback-correct';
            } else {
                feedbackContainer.innerHTML = langData.feedback_incorrect_template(correctAnswer);
                feedbackContainer.className = 'feedback feedback-incorrect';
            }
            nextBtn.classList.remove('hidden');
            checkBtn.classList.add('hidden');
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                quizContainer.innerHTML = `
                    <p class="text-xl font-bold text-center text-indigo-600">${translations[currentLang].quiz_end}</p>
                `;
                checkBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }
        }
        
        langSelector.addEventListener('change', changeLanguage);
        checkBtn.addEventListener('click', checkAnswer);
        nextBtn.addEventListener('click', nextQuestion);

        // Initial load
        window.onload = () => {
            changeLanguage();
            changeView('explanation');
        };
    </script>
</body>
</html>


