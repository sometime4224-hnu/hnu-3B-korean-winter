<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가야금에 대해 알아봐요</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f5f5f4; /* Stone-100 */
        }

        /* Custom Radio Button Styling */
        .option-input:checked + .option-label {
            background-color: #fffbeb; /* Amber-50 */
            border-color: #d97706; /* Amber-600 */
            color: #92400e; /* Amber-800 */
        }
        
        .option-input:checked + .option-label .check-icon {
            display: inline-block;
        }

        .correct-answer {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
            color: #15803d !important;
        }

        .wrong-answer {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
            color: #b91c1c !important;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Main Container -->
    <div class="max-w-md mx-auto bg-white min-h-screen shadow-xl overflow-hidden">
        
        <!-- Header -->
        <header class="bg-amber-600 text-white p-4 sticky top-0 z-10 shadow-md">
            <h1 class="text-lg font-bold flex items-center">
                <i class="fas fa-music mr-2"></i> 한국 문화 학습
            </h1>
        </header>

        <!-- Content -->
        <main class="p-4 pb-24">
            
            <!-- Reading Passage -->
            <section class="mb-8">
                <div class="bg-stone-50 border border-stone-200 rounded-xl p-5 shadow-sm">
                    <h2 class="text-xl font-bold text-amber-800 mb-3 text-center">재미있는 가야금</h2>
                    <p class="text-base leading-7 text-gray-700 text-justify break-keep">
                        줄리앙 씨는 요즘 주말에 가야금을 배우러 다닙니다. 가야금은 한국의 전통 악기입니다. 긴 네모 모양의 나무판 위에 줄이 12개 있습니다.<br><br>
                        가야금은 크기가 꽤 큽니다. 보통 사람 키만 한 크기입니다. 그렇다면 가야금은 어떻게 연주할까요? 가야금은 손가락을 사용하여 연주합니다. 손가락으로 줄을 누르거나 <span class="font-bold text-amber-600 border-b-2 border-amber-600 px-1">( ? )</span> 소리를 냅니다.<br><br>
                        가야금 소리는 아주 아름답고 듣기 좋습니다. 여러분도 기회가 되면 가야금을 배워 보세요.
                    </p>
                </div>
            </section>

            <hr class="border-gray-200 mb-8">

            <!-- Quiz Form -->
            <form id="quizForm">
                
                <!-- Question 1 -->
                <div class="mb-8 question-block" data-correct="2">
                    <div class="flex items-start mb-3">
                        <span class="bg-amber-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-2 flex-shrink-0 mt-0.5">1</span>
                        <h3 class="font-bold text-lg leading-tight">다음 ( ? )에 들어갈 알맞은 말은 무엇입니까?</h3>
                    </div>
                    <div class="space-y-2">
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q1" value="1" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span>① 불어서</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q1" value="2" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span>② 튕겨서</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q1" value="3" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span>③ 두드려서</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q1" value="4" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span>④ 흔들어서</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                    </div>
                    <div class="feedback hidden mt-3 p-3 bg-amber-50 text-amber-900 text-sm rounded-lg">
                        <span class="font-bold">정답: ②</span><br>
                        가야금은 현악기로, 줄을 손가락으로 누르거나 '튕겨서' 소리를 냅니다.
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="mb-8 question-block" data-correct="3">
                    <div class="flex items-start mb-3">
                        <span class="bg-amber-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-2 flex-shrink-0 mt-0.5">2</span>
                        <h3 class="font-bold text-lg leading-tight">이 글의 내용과 맞는 것은 무엇입니까?</h3>
                    </div>
                    <div class="space-y-2">
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q2" value="1" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span class="text-sm">① 가야금은 크기가 아주 작습니다.</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q2" value="2" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span class="text-sm">② 가야금 줄은 모두 10개입니다.</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q2" value="3" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span class="text-sm">③ 가야금은 사람 키만큼 큽니다.</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                        <label class="block relative cursor-pointer group">
                            <input type="radio" name="q2" value="4" class="option-input hidden">
                            <div class="option-label p-3 border-2 border-gray-200 rounded-lg transition-all hover:bg-gray-50 flex items-center justify-between">
                                <span class="text-sm">④ 입으로 불어서 소리를 냅니다.</span>
                                <i class="check-icon fas fa-check text-amber-500 hidden"></i>
                            </div>
                        </label>
                    </div>
                    <div class="feedback hidden mt-3 p-3 bg-amber-50 text-amber-900 text-sm rounded-lg">
                        <span class="font-bold">정답: ③</span><br>
                        본문에서 가야금은 크기가 꽤 커서 사람 키만 하다고 설명하고 있습니다.<br>
                        (줄은 12개이며, 손가락으로 튕겨서 연주합니다.)
                    </div>
                </div>

            </form>
        </main>

        <!-- Result Footer -->
        <div class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-4 flex justify-between items-center shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] max-w-md left-1/2 transform -translate-x-1/2">
            <div id="scoreDisplay" class="text-lg font-bold text-gray-800">
                문제 풀이 대기 중
            </div>
            <button onclick="checkAnswers()" id="submitBtn" class="bg-amber-600 hover:bg-amber-700 text-white font-bold py-2 px-6 rounded-full transition-colors shadow-lg">
                채점하기
            </button>
        </div>

    </div>

    <script>
        function checkAnswers() {
            const questionBlocks = document.querySelectorAll('.question-block');
            let score = 0;
            let answeredCount = 0;

            // Reset styles
            document.querySelectorAll('.option-label').forEach(el => {
                el.classList.remove('correct-answer', 'wrong-answer');
            });
            document.querySelectorAll('.feedback').forEach(el => el.classList.add('hidden'));

            questionBlocks.forEach((block, index) => {
                const correctAnswer = block.getAttribute('data-correct');
                const selectedOption = block.querySelector('input[type="radio"]:checked');
                
                const feedback = block.querySelector('.feedback');
                feedback.classList.remove('hidden');

                if (selectedOption) {
                    answeredCount++;
                    const selectedValue = selectedOption.value;
                    const selectedLabel = selectedOption.nextElementSibling;

                    if (selectedValue === correctAnswer) {
                        score++;
                        selectedLabel.classList.add('correct-answer');
                        const icon = selectedLabel.querySelector('.check-icon');
                    } else {
                        selectedLabel.classList.add('wrong-answer');
                        // Find and highlight correct answer
                        const correctInput = block.querySelector(`input[value="${correctAnswer}"]`);
                        if(correctInput) {
                            correctInput.nextElementSibling.classList.add('correct-answer');
                        }
                    }
                } else {
                     // If not answered, just show the correct answer
                     const correctInput = block.querySelector(`input[value="${correctAnswer}"]`);
                     if(correctInput) {
                        correctInput.nextElementSibling.classList.add('correct-answer');
                     }
                }
            });

            // Update Score Display
            const scoreDisplay = document.getElementById('scoreDisplay');
            scoreDisplay.innerText = `점수: ${score} / ${questionBlocks.length}`;
            scoreDisplay.classList.add('text-amber-700');

            // Disable button and change text
            const btn = document.getElementById('submitBtn');
            btn.innerText = "다시 풀기";
            btn.classList.remove('bg-amber-600', 'hover:bg-amber-700');
            btn.classList.add('bg-gray-600', 'hover:bg-gray-700');
            btn.onclick = resetQuiz;
            
            // Scroll to top result if needed, or just alert
            if (score === 2) {
                confettiEffect();
            }
        }

        function resetQuiz() {
            // Reload page or reset form
            document.getElementById('quizForm').reset();
            document.querySelectorAll('.option-label').forEach(el => {
                el.classList.remove('correct-answer', 'wrong-answer');
            });
            document.querySelectorAll('.feedback').forEach(el => el.classList.add('hidden'));
            
            const scoreDisplay = document.getElementById('scoreDisplay');
            scoreDisplay.innerText = "문제 풀이 대기 중";
            scoreDisplay.classList.remove('text-amber-700');

            const btn = document.getElementById('submitBtn');
            btn.innerText = "채점하기";
            btn.classList.add('bg-amber-600', 'hover:bg-amber-700');
            btn.classList.remove('bg-gray-600', 'hover:bg-gray-700');
            btn.onclick = checkAnswers;
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function confettiEffect() {
            const colors = ['#f59e0b', '#d97706', '#78350f', '#fcd34d'];
            let i = 0;
            const interval = setInterval(() => {
                document.body.style.backgroundColor = colors[i % colors.length] + '20';
                i++;
                if (i > 10) {
                    clearInterval(interval);
                    document.body.style.backgroundColor = '#f5f5f4';
                }
            }, 100);
        }
    </script>
</body>
</html>

