<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>한국어 읽기 평가 (2-3급) - 지문 3개 x 3문항</title>

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: "Noto Sans KR", Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .soft { box-shadow: 0 10px 30px rgba(0,0,0,.06); }
    .tap { min-height: 52px; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">
  <header class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-slate-200">
    <div class="max-w-3xl mx-auto px-4 py-3 flex items-center justify-between gap-3">
      <div>
        <div class="text-base font-bold">한국어 읽기 능력 평가 (2-3급)</div>
        <div class="text-xs text-slate-500">지문 3개 · 문항 9개 · 모바일 최적화</div>
      </div>

      <div class="flex items-center gap-2">
        <button id="btnReset" class="tap px-3 rounded-xl border border-slate-300 bg-white text-sm font-semibold active:scale-[0.99]">초기화</button>
        <button id="btnSubmit" class="tap px-3 rounded-xl bg-slate-900 text-white text-sm font-semibold active:scale-[0.99]">제출/채점</button>
      </div>
    </div>

    <div class="max-w-3xl mx-auto px-4 pb-3">
      <div class="flex items-center justify-between text-xs text-slate-600 mb-2">
        <div>진행</div>
        <div><span id="progressText" class="mono">0/9</span></div>
      </div>
      <div class="h-2 rounded-full bg-slate-200 overflow-hidden">
        <div id="progressBar" class="h-2 bg-slate-900 w-0"></div>
      </div>
    </div>
  </header>

  <main class="max-w-3xl mx-auto px-4 py-5 space-y-5">
    <!-- 안내 -->
    <section class="bg-white rounded-2xl p-4 soft border border-slate-100">
      <div class="flex flex-col gap-2">
        <div class="text-sm text-slate-700">
          각 문항은 4지선다입니다. 답을 고르면 자동 저장됩니다.
        </div>
        <div class="flex flex-wrap gap-2">
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 text-slate-700 text-xs">
            <span class="w-2 h-2 rounded-full bg-slate-400"></span>미응답
          </span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 text-emerald-700 text-xs">
            <span class="w-2 h-2 rounded-full bg-emerald-500"></span>응답 완료
          </span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-amber-50 text-amber-700 text-xs">
            <span class="w-2 h-2 rounded-full bg-amber-500"></span>채점 후 오답 표시
          </span>
        </div>
      </div>
    </section>

    <!-- 결과 -->
    <section id="resultPanel" class="hidden bg-white rounded-2xl p-4 soft border border-slate-100">
      <div class="flex items-start justify-between gap-3">
        <div>
          <div class="text-base font-bold">채점 결과</div>
          <div class="text-sm text-slate-600 mt-1">
            점수: <span id="scoreText" class="font-bold text-slate-900 mono">0/9</span>
            <span id="percentText" class="ml-2 text-slate-500 mono">(0%)</span>
          </div>
        </div>
        <button id="btnReviewTop" class="tap px-3 rounded-xl bg-emerald-600 text-white text-sm font-semibold active:scale-[0.99]">오답만 보기</button>
      </div>

      <div class="mt-3 text-sm text-slate-700">
        채점 후에는 각 문항 아래에 정답/해설이 표시됩니다.
      </div>
    </section>

    <!-- ===== 지문 1 ===== -->
    <section class="bg-white rounded-2xl p-4 soft border border-slate-100" data-section="p1">
      <div class="flex items-center justify-between gap-2">
        <h2 class="text-lg font-bold">지문 1) 한강공원의 숨은 재미를 찾아서!</h2>
        <span id="badge-p1" class="text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
      </div>

      <article class="mt-3 text-[15px] leading-7 text-slate-800">
        서울 시민의 산책 장소로 유명한 한강공원이 야외 활동의 천국이라는 사실을 아는 사람은 많지 않다. 도시에서는 생각도 못 했던 활동들을 한강에서는 즐길 수 있다. 서울시는 이번 봄에 한강공원에서 즐길 수 있는 특별한 활동을 추천하고 있다.<br><br>
        먼저 뚝섬 한강공원에 가면 높이가 다른 네모 모양의 울퉁불퉁한 벽을 볼 수 있는데 그게 바로 인공 암벽장이다. 인공 암벽장은 누구나 무료로 이용할 수 있고 암벽 등반도 무료로 배울 수 있다. 이용 시간은 성수기(3-11월)에는 오전 9시부터 오후 9시까지, 비수기(12-2월)에는 오전 9시부터 오후 5시까지이다.<br><br>
        광나루 한강공원에서는 자전거와 레일바이크를 즐길 수 있다. 자전거 이용 요금은 20분에 1,000원이고, 만 6세 미만 어린이는 무료다. 레일바이크는 약 10분 동안 탈 수 있는 길이인데 2인용 좌석 사이에 작은 의자가 있어서 어린이와 함께 온 가족도 이용할 만하다. 총 10대가 마련돼 있으며 이용 요금은 2,000원이다.
      </article>

      <div class="mt-4 space-y-4">
        <!-- Q1 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q1">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">1. [주제/목적] 이 글의 주제로 가장 알맞은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q1" value="1" class="w-5 h-5" />
              <span>한강공원에서 할 수 있는 특별한 야외 활동 소개</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q1" value="2" class="w-5 h-5" />
              <span>한강공원의 역사와 위치 설명</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q1" value="3" class="w-5 h-5" />
              <span>서울의 대중교통 이용 방법 안내</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q1" value="4" class="w-5 h-5" />
              <span>한강공원에서 지켜야 할 안전 규칙 설명</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q2 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q2">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">2. [맞는 내용] 다음 중 글의 내용과 같은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q2" value="1" class="w-5 h-5" />
              <span>인공 암벽장은 이용료가 있고 강습은 유료이다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q2" value="2" class="w-5 h-5" />
              <span>인공 암벽장은 누구나 무료로 이용할 수 있다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q2" value="3" class="w-5 h-5" />
              <span>인공 암벽장은 겨울에만 이용할 수 있다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q2" value="4" class="w-5 h-5" />
              <span>인공 암벽장은 광나루 한강공원에 있다.</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q3 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q3">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">3. [세부 정보] 다음 중 글에서 말한 레일바이크 이용 요금으로 맞는 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q3" value="1" class="w-5 h-5" />
              <span>1,000원</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q3" value="2" class="w-5 h-5" />
              <span>2,000원</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q3" value="3" class="w-5 h-5" />
              <span>3,000원</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q3" value="4" class="w-5 h-5" />
              <span>무료</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>
      </div>
    </section>

    <!-- ===== 지문 2 ===== -->
    <section class="bg-white rounded-2xl p-4 soft border border-slate-100" data-section="p2">
      <div class="flex items-center justify-between gap-2">
        <h2 class="text-lg font-bold">지문 2) 돈을 아끼는 방법</h2>
        <span id="badge-p2" class="text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
      </div>

      <article class="mt-3 text-[15px] leading-7 text-slate-800">
        부자가 되려면 작은 돈부터 아껴 써야 합니다. ‘티끌 모아 태산’이라는 말도 있지요? 그럼 어떻게 해야 돈을 아낄 수 있을까요?<br><br>
        첫째, 영수증을 모으고 가계부를 씁니다. 어디에 어떻게 돈을 사용하고 있는지 알아야 돈을 절약할 수 있습니다.<br><br>
        둘째, 관리비를 줄이지 않으면 안 됩니다. 사용하지 않는 전기 플러그를 뽑아 두고, 설거지할 때에는 물을 계속 틀어 놓지 않습니다. 그리고 사람이 없는 방의 불도 끕니다. 특히 겨울철에 가족들에게 내복을 입게 하면 난방비를 아낄 수 있습니다.<br><br>
        셋째, 알뜰하게 쇼핑합니다. 퇴근하는 길에 마트에 들러서 세일하는 식품을 사면 식비를 절약할 수 있습니다. 직접 요리해서 먹으면 외식비도 아낄 수 있고 건강에도 좋습니다.<br><br>
        돈을 아끼는 방법, 모두가 알고 있는 쉬운 것들이지만 실천하기는 쉽지 않습니다. 미리 목표를 정하고 작은 것부터 실천합시다.
      </article>

      <div class="mt-4 space-y-4">
        <!-- Q4 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q4">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">4. [주제/목적] 이 글의 목적으로 가장 알맞은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q4" value="1" class="w-5 h-5" />
              <span>돈을 아끼는 실천 방법을 알려 주려고</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q4" value="2" class="w-5 h-5" />
              <span>부자가 되는 투자 방법을 소개하려고</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q4" value="3" class="w-5 h-5" />
              <span>물건을 싸게 파는 마트를 광고하려고</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q4" value="4" class="w-5 h-5" />
              <span>가계부 쓰기의 어려움을 설명하려고</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q5 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q5">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">5. [맞는 내용] 다음 중 글의 내용과 같은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q5" value="1" class="w-5 h-5" />
              <span>돈을 아끼려면 큰돈부터 아껴야 한다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q5" value="2" class="w-5 h-5" />
              <span>설거지할 때 물을 계속 틀어 놓아야 한다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q5" value="3" class="w-5 h-5" />
              <span>세일하는 식품을 사면 식비를 줄일 수 있다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q5" value="4" class="w-5 h-5" />
              <span>외식을 자주 하면 건강에 더 좋다.</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q6 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q6">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">6. [전개] 다음 중 ‘둘째’에 들어갈 내용으로 가장 알맞은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q6" value="1" class="w-5 h-5" />
              <span>영수증을 모으고 가계부를 쓰는 방법</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q6" value="2" class="w-5 h-5" />
              <span>관리비를 줄이는 방법</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q6" value="3" class="w-5 h-5" />
              <span>세일 기간에 여행을 가는 방법</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q6" value="4" class="w-5 h-5" />
              <span>돈을 빌려서 사업을 시작하는 방법</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>
      </div>
    </section>

    <!-- ===== 지문 3 ===== -->
    <section class="bg-white rounded-2xl p-4 soft border border-slate-100" data-section="p3">
      <div class="flex items-center justify-between gap-2">
        <h2 class="text-lg font-bold">지문 3) 서동요(서동의 노래)</h2>
        <span id="badge-p3" class="text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
      </div>

      <article class="mt-3 text-[15px] leading-7 text-slate-800">
        옛날 백제에 서동이라는 가난하지만 똑똑한 청년이 있었다. 서동은 이웃 나라 신라의 선화 공주가 아름답다는 소문을 듣고 신라에 가서 이런 노래를 퍼뜨렸다.<br><br>
        <div class="pl-4 border-l-4 border-slate-200">
          선화 공주는<br>
          몰래 시집을 가서<br>
          밤마다 서동을 찾아간대요.
        </div><br>
        신라의 아이들은 뜻도 모르고 이 노래를 부르며 돌아다녔다. 이 노래는 왕의 귀에까지 들어가게 되었고, 화가 난 왕은 나쁜 소문이 난 공주를 궁에서 내쫓았다. 얼굴도 모르는 서동과의 소문 때문에 궁을 나온 공주는 먼 시골에서 한 남자를 만났다. 그 남자는 공주가 편하게 지낼 수 있도록 도와주었고, 두 사람은 사랑에 빠져서 결혼했다. 선화 공주는 소문을 퍼뜨린 사람이 바로 자신의 남편이라는 사실을 알고 깜짝 놀랐지만 서동에 대한 마음은 변하지 않았다. 선화 공주의 도움으로 공부도 하고 돈도 많이 모은 서동은 후에 백제의 왕이 되었다. 그가 바로 백제를 크게 발전시킨 ‘무왕’(?-641)이다.
      </article>

      <div class="mt-4 space-y-4">
        <!-- Q7 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q7">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">7. [제목] 이 글의 제목으로 가장 알맞은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q7" value="1" class="w-5 h-5" />
              <span>소문의 힘</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q7" value="2" class="w-5 h-5" />
              <span>공주가 떠난 이유</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q7" value="3" class="w-5 h-5" />
              <span>백제와 신라의 전쟁</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q7" value="4" class="w-5 h-5" />
              <span>아이들이 부른 노래</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q8 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q8">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">8. [맞는 내용] 다음 중 글의 내용과 같은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q8" value="1" class="w-5 h-5" />
              <span>선화 공주는 소문을 듣고 스스로 궁을 떠났다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q8" value="2" class="w-5 h-5" />
              <span>신라의 아이들은 노래 뜻을 알고 불렀다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q8" value="3" class="w-5 h-5" />
              <span>왕은 나쁜 소문이 난 공주를 궁에서 내쫓았다.</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q8" value="4" class="w-5 h-5" />
              <span>공주는 서동을 만나지 못하고 혼자 살았다.</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>

        <!-- Q9 -->
        <div class="rounded-2xl border border-slate-200 p-4" data-q="q9">
          <div class="flex items-start justify-between gap-3">
            <div class="font-semibold">9. [사건 순서] 다음 중 일어난 일의 순서로 가장 알맞은 것은 무엇입니까?</div>
            <span class="qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700">미응답</span>
          </div>

          <div class="mt-3 grid gap-2">
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q9" value="1" class="w-5 h-5" />
              <span>공주가 시골에서 남자를 만남 → 아이들이 노래를 부름 → 왕이 공주를 내쫓음</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q9" value="2" class="w-5 h-5" />
              <span>서동이 노래를 퍼뜨림 → 아이들이 노래를 부름 → 왕이 공주를 내쫓음</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q9" value="3" class="w-5 h-5" />
              <span>왕이 공주를 내쫓음 → 서동이 왕이 됨 → 서동이 노래를 퍼뜨림</span>
            </label>
            <label class="tap flex items-center gap-3 p-3 rounded-xl border border-slate-200 bg-white active:scale-[0.99]">
              <input type="radio" name="q9" value="4" class="w-5 h-5" />
              <span>서동이 왕이 됨 → 공주가 궁에서 쫓겨남 → 아이들이 노래를 부름</span>
            </label>
          </div>

          <div class="mt-3 hidden feedback text-sm rounded-xl p-3 border"></div>
        </div>
      </div>
    </section>

    <!-- 하단 버튼 -->
    <section class="pb-10">
      <div class="bg-white rounded-2xl p-4 soft border border-slate-100 flex flex-col gap-2">
        <button id="btnSubmitBottom" class="tap w-full rounded-2xl bg-slate-900 text-white font-bold active:scale-[0.99]">
          제출/채점
        </button>
        <button id="btnReviewBottom" class="tap w-full rounded-2xl bg-emerald-600 text-white font-bold hidden active:scale-[0.99]">
          오답만 보기
        </button>
        <div class="text-xs text-slate-500 text-center">
          자동 저장됨 · 브라우저를 닫아도 선택이 유지됩니다.
        </div>
      </div>
    </section>
  </main>

<script>
  const KEY = "korean_reading_test_v1_answers";
  const ANSWERS = {
    q1: "1", q2: "2", q3: "2",
    q4: "1", q5: "3", q6: "2",
    q7: "1", q8: "3", q9: "2"
  };

  const EXPLAIN = {
    q1: "서울시가 추천하는 한강공원의 특별 활동(암벽장, 자전거, 레일바이크)을 소개합니다.",
    q2: "인공 암벽장은 누구나 무료 이용, 무료로 배우기도 가능합니다.",
    q3: "레일바이크 이용 요금은 2,000원입니다.",
    q4: "돈을 아끼는 실천 방법(가계부, 관리비 절감, 알뜰 쇼핑)을 안내합니다.",
    q5: "세일하는 식품을 사면 식비를 절약할 수 있다고 했습니다.",
    q6: "‘둘째’는 관리비 줄이기(전기/물/난방 등)입니다.",
    q7: "소문(노래) 때문에 공주가 쫓겨나고, 결국 서동과 결혼 및 왕이 되는 흐름입니다.",
    q8: "왕이 나쁜 소문이 난 공주를 궁에서 내쫓았습니다.",
    q9: "서동이 노래를 퍼뜨림 → 아이들이 부름 → 왕이 듣고 공주를 내쫓음 순입니다."
  };

  let state = loadState();

  function loadState() {
    try {
      const raw = localStorage.getItem(KEY);
      return raw ? JSON.parse(raw) : {};
    } catch (e) {
      return {};
    }
  }

  function saveState() {
    localStorage.setItem(KEY, JSON.stringify(state));
  }

  function setProgress() {
    const total = 9;
    const answered = Object.keys(ANSWERS).filter(q => state[q]).length;
    document.getElementById("progressText").textContent = `${answered}/${total}`;
    document.getElementById("progressBar").style.width = `${Math.round((answered/total)*100)}%`;

    // section badges
    setSectionBadge("p1", ["q1","q2","q3"]);
    setSectionBadge("p2", ["q4","q5","q6"]);
    setSectionBadge("p3", ["q7","q8","q9"]);
  }

  function setSectionBadge(sectionId, qs) {
    const badge = document.getElementById(`badge-${sectionId}`);
    const done = qs.every(q => state[q]);
    badge.textContent = done ? "응답 완료" : "미응답";
    badge.className = done
      ? "text-xs px-3 py-1 rounded-full bg-emerald-50 text-emerald-700"
      : "text-xs px-3 py-1 rounded-full bg-slate-100 text-slate-700";
  }

  function setQuestionState(qName) {
    const box = document.querySelector(`[data-q="${qName}"]`);
    if (!box) return;
    const st = box.querySelector(".qstate");
    const answered = !!state[qName];
    st.textContent = answered ? "응답" : "미응답";
    st.className = answered
      ? "qstate text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700"
      : "qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700";
  }

  function restoreSelections() {
    for (const q of Object.keys(ANSWERS)) {
      const val = state[q];
      if (!val) continue;
      const input = document.querySelector(`input[name="${q}"][value="${val}"]`);
      if (input) input.checked = true;
    }
    for (const q of Object.keys(ANSWERS)) setQuestionState(q);
    setProgress();
  }

  function bindInputs() {
    for (const q of Object.keys(ANSWERS)) {
      document.querySelectorAll(`input[name="${q}"]`).forEach(inp => {
        inp.addEventListener("change", () => {
          state[q] = inp.value;
          saveState();
          setQuestionState(q);
          setProgress();
        });
      });
    }
  }

  function grade() {
    const total = 9;
    let correct = 0;
    const wrongList = [];

    for (const q of Object.keys(ANSWERS)) {
      const chosen = state[q] || null;
      const answer = ANSWERS[q];
      const ok = chosen === answer;
      if (ok) correct++;
      else wrongList.push(q);

      renderFeedback(q, chosen, answer, ok);
      paintOptions(q, answer, chosen);
      markQuestionAfterGrade(q, ok);
    }

    // result panel
    const percent = Math.round((correct/total) * 100);
    document.getElementById("scoreText").textContent = `${correct}/${total}`;
    document.getElementById("percentText").textContent = `(${percent}%)`;
    document.getElementById("resultPanel").classList.remove("hidden");

    // review buttons
    const btnReviewTop = document.getElementById("btnReviewTop");
    const btnReviewBottom = document.getElementById("btnReviewBottom");
    btnReviewBottom.classList.remove("hidden");

    const reviewHandler = () => {
      if (wrongList.length === 0) {
        window.scrollTo({ top: 0, behavior: "smooth" });
        return;
      }
      const firstWrong = document.querySelector(`[data-q="${wrongList[0]}"]`);
      if (firstWrong) firstWrong.scrollIntoView({ behavior: "smooth", block: "start" });
      // collapse correct (simple hide)
      toggleOnlyWrong(true, wrongList);
    };

    btnReviewTop.onclick = reviewHandler;
    btnReviewBottom.onclick = reviewHandler;

    // after grading, keep progress visible
    setProgress();
  }

  function toggleOnlyWrong(onlyWrong, wrongList) {
    const all = Array.from(document.querySelectorAll('[data-q^="q"]'));
    all.forEach(box => {
      const q = box.getAttribute("data-q");
      const isWrong = wrongList.includes(q);
      box.style.display = (!onlyWrong || isWrong) ? "" : "none";
    });

    // show a small banner at top if filtered
    let banner = document.getElementById("filterBanner");
    if (!banner) {
      banner = document.createElement("div");
      banner.id = "filterBanner";
      banner.className = "max-w-3xl mx-auto px-4 -mt-2";
      banner.innerHTML = `
        <div class="bg-amber-50 border border-amber-200 text-amber-900 rounded-2xl p-3 soft flex items-center justify-between gap-2">
          <div class="text-sm font-semibold">오답만 표시 중</div>
          <button id="btnShowAll" class="tap px-3 rounded-xl bg-white border border-amber-300 text-sm font-semibold active:scale-[0.99]">전체 보기</button>
        </div>
      `;
      document.querySelector("main").prepend(banner);
      banner.querySelector("#btnShowAll").addEventListener("click", () => {
        toggleOnlyWrong(false, wrongList);
        banner.remove();
      });
    }
  }

  function renderFeedback(q, chosen, answer, ok) {
    const box = document.querySelector(`[data-q="${q}"]`);
    const fb = box.querySelector(".feedback");
    fb.classList.remove("hidden");

    const chosenText = chosen ? `선택: ${chosen}번` : "선택: 없음";
    const answerText = `정답: ${answer}번`;

    fb.className = ok
      ? "mt-3 feedback text-sm rounded-xl p-3 border border-emerald-200 bg-emerald-50 text-emerald-900"
      : "mt-3 feedback text-sm rounded-xl p-3 border border-amber-200 bg-amber-50 text-amber-900";

    fb.innerHTML = `
      <div class="flex flex-wrap items-center gap-x-3 gap-y-1">
        <span class="font-bold">${ok ? "정답" : "오답"}</span>
        <span class="mono">${chosenText}</span>
        <span class="mono">${answerText}</span>
      </div>
      <div class="mt-2 text-slate-800">${EXPLAIN[q]}</div>
    `;
  }

  function paintOptions(q, answer, chosen) {
    const labels = document.querySelectorAll(`input[name="${q}"]`);
    labels.forEach(inp => {
      const label = inp.closest("label");
      if (!label) return;

      // reset
      label.classList.remove("border-emerald-400","bg-emerald-50","border-amber-400","bg-amber-50");
      label.classList.add("border-slate-200","bg-white");

      if (inp.value === answer) {
        label.classList.remove("border-slate-200","bg-white");
        label.classList.add("border-emerald-400","bg-emerald-50");
      }
      if (chosen && inp.value === chosen && chosen !== answer) {
        label.classList.remove("border-slate-200","bg-white");
        label.classList.add("border-amber-400","bg-amber-50");
      }
    });
  }

  function markQuestionAfterGrade(q, ok) {
    const box = document.querySelector(`[data-q="${q}"]`);
    const st = box.querySelector(".qstate");
    st.textContent = ok ? "정답" : "오답";
    st.className = ok
      ? "qstate text-xs px-2 py-1 rounded-full bg-emerald-50 text-emerald-700"
      : "qstate text-xs px-2 py-1 rounded-full bg-amber-50 text-amber-700";
  }

  function resetAll() {
    state = {};
    saveState();
    // clear selections
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);

    // reset styles and feedback
    document.querySelectorAll('[data-q^="q"]').forEach(box => {
      const fb = box.querySelector(".feedback");
      if (fb) fb.classList.add("hidden");
      const st = box.querySelector(".qstate");
      if (st) {
        st.textContent = "미응답";
        st.className = "qstate text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-700";
      }
      box.style.display = "";
      // reset option styling
      box.querySelectorAll("label").forEach(label => {
        label.classList.remove("border-emerald-400","bg-emerald-50","border-amber-400","bg-amber-50");
        label.classList.add("border-slate-200","bg-white");
      });
    });

    // remove filter banner if exists
    const banner = document.getElementById("filterBanner");
    if (banner) banner.remove();

    // hide result
    document.getElementById("resultPanel").classList.add("hidden");
    document.getElementById("btnReviewBottom").classList.add("hidden");

    // section badges + progress
    setProgress();
    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  // buttons
  document.getElementById("btnSubmit").addEventListener("click", grade);
  document.getElementById("btnSubmitBottom").addEventListener("click", grade);
  document.getElementById("btnReset").addEventListener("click", resetAll);

  // init
  bindInputs();
  restoreSelections();
</script>
</body>
</html>