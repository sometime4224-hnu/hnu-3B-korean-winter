<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Korean Grammar: N(noun) + (Ïù¥)Îì†ÏßÄ/ÎèÑ</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; touch-action: manipulation; }
        .no-select { -webkit-user-select: none; user-select: none; }
        .scroll-hidden::-webkit-scrollbar { display: none; }
        .scroll-hidden { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-indigo-50 text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        const questions = [
            {
                id: 1,
                prefix: "Î∞∞Í∞Ä ÎÑàÎ¨¥ Í≥†ÌååÏöî. Î¨¥Ïä®",
                sentence_end: "Îã§ Ï¢ãÏïÑÏöî.",
                hint: "T√¥i ƒë√≥i qu√°. (B·∫•t c·ª© m√≥n ƒÉn n√†o) c≈©ng ƒë∆∞·ª£c.",
                noun: "ÏùåÏãù",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 2,
                prefix: "ÎÑàÎ¨¥ Îä¶ÏùÄ ÏãúÍ∞ÑÏù¥ÎùºÏÑú Í±∞Î¶¨Ïóê Ïñ¥Îñ§",
                sentence_end: "ÏóÜÏóàÏñ¥Ïöî.",
                hint: "ƒê√£ qu√° mu·ªôn n√™n tr√™n ƒë∆∞·ªùng (kh√¥ng c√≥ ng∆∞·ªùi n√†o).",
                noun: "ÏÇ¨Îûå",
                suffix: "ÎèÑ",
                type: "negative"
            },
            {
                id: 3,
                prefix: "Ï†ÄÎäî ÏòÅÌôîÎ•º Ï†ïÎßê Ï¢ãÏïÑÌï¥Ïöî. Î¨¥Ïä®",
                sentence_end: "Ïû¨ÎØ∏ÏûàÍ≤å Î¥êÏöî.",
                hint: "T√¥i r·∫•t th√≠ch phim. (B·∫•t c·ª© phim n√†o) t√¥i c≈©ng xem m·ªôt c√°ch th√∫ v·ªã.",
                noun: "ÏòÅÌôî",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 4,
                prefix: "Î™∏Ïù¥ ÎÑàÎ¨¥ ÏïÑÌååÏÑú Î¨¥Ïä®",
                sentence_end: "Ìï† Ïàò ÏóÜÏñ¥Ïöî.",
                hint: "T√¥i ƒëau ng∆∞·ªùi qu√° n√™n (kh√¥ng th·ªÉ l√†m vi·ªác g√¨).",
                noun: "Ïùº",
                suffix: "ÎèÑ",
                type: "negative"
            },
            {
                id: 5,
                prefix: "Ïö∞Î¶¨ ÌïôÍµê ÎèÑÏÑúÍ¥ÄÏóêÎäî Î¨¥Ïä®",
                sentence_end: "Îã§ ÏûàÏñ¥Ïöî.",
                hint: "Th∆∞ vi·ªán tr∆∞·ªùng t√¥i c√≥ (b·∫•t c·ª© s√°ch g√¨).",
                noun: "Ï±Ö",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 6,
                prefix: "Ìú¥ÏùºÏù¥ÎùºÏÑú Î¨∏ÏùÑ Ïó∞",
                sentence_end: "ÌïòÎÇòÎèÑ ÏóÜÏñ¥Ïöî.",
                hint: "V√¨ l√† ng√†y ngh·ªâ n√™n (kh√¥ng c√≥ c·ª≠a h√†ng n√†o) m·ªü c·ª≠a.",
                noun: "Í∞ÄÍ≤å", // Î¨∏Îß•ÏÉÅ 'Ïñ¥Îñ§ Í∞ÄÍ≤åÎèÑ' -> 'Î¨∏ÏùÑ Ïó∞ Í∞ÄÍ≤åÍ∞Ä...Ïñ¥Îñ§ Í∞ÄÍ≤åÎèÑ' (x) -> 'Î¨∏ÏùÑ Ïó∞ Í∞ÄÍ≤å(noun)Í∞Ä(context)' 
                // ÏàòÏ†ï: Î¨∏Ïû•ÏùÑ ÏûêÏó∞Ïä§ÎüΩÍ≤å ÎßåÎì§Í∏∞ ÏúÑÌï¥ prefix Ï°∞Ï†ï
                // "Ìú¥ÏùºÏù¥ÎùºÏÑú Ïñ¥Îñ§ ____ Î¨∏ÏùÑ Ïó¥ÏßÄ ÏïäÏïòÏñ¥Ïöî."Í∞Ä Îçî ÏûêÏó∞Ïä§Îü¨Ïö¥ 'ÎèÑ' Î¨∏Ïû•ÏûÑ.
                full_sentence_structure: true, 
                override_prefix: "Ìú¥ÏùºÏù¥ÎùºÏÑú Ïñ¥Îñ§",
                override_end: "Î¨∏ÏùÑ Ïó¥ÏßÄ ÏïäÏïòÏñ¥Ïöî.",
                noun: "Í∞ÄÍ≤å",
                suffix: "ÎèÑ",
                type: "negative"
            },
            {
                id: 7,
                prefix: "ÏßÄÎØº Ïî®Îäî ÎÖ∏ÎûòÎ•º Ïûò Ìï¥Ïöî. Î¨¥Ïä®",
                sentence_end: "Ïûò Î∂àÎü¨Ïöî.",
                hint: "Jimin h√°t hay. (B·∫•t c·ª© b√†i h√°t n√†o) c·∫≠u ·∫•y c≈©ng h√°t t·ªët.",
                noun: "ÎÖ∏Îûò",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 8,
                prefix: "Í∑∏ ÏàòÌïô Î¨∏Ï†úÎäî ÎÑàÎ¨¥ Ïñ¥Î†§ÏõåÏÑú Ïñ¥Îñ§",
                sentence_end: "ÌíÄÏßÄ Î™ªÌñàÏñ¥Ïöî.",
                hint: "B√†i to√°n ƒë√≥ qu√° kh√≥ n√™n (kh√¥ng h·ªçc sinh n√†o) gi·∫£i ƒë∆∞·ª£c.",
                noun: "ÌïôÏÉù",
                suffix: "ÎèÑ",
                type: "negative"
            },
            {
                id: 9,
                prefix: "Ï†ÄÎäî Í≥ºÏùºÏùÑ Ï¢ãÏïÑÌï¥ÏÑú Î¨¥Ïä®",
                sentence_end: "Ïûò Î®πÏñ¥Ïöî.",
                hint: "T√¥i th√≠ch hoa qu·∫£ n√™n (b·∫•t c·ª© lo·∫°i qu·∫£ n√†o) c≈©ng ƒÉn ngon l√†nh.",
                noun: "Í≥ºÏùº",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 10,
                prefix: "ÏôÑÎ≤ΩÌïòÍ≤å Ï§ÄÎπÑÎ•º Ìï¥ÏÑú Ïñ¥Îñ§",
                sentence_end: "ÏóÜÏóàÏñ¥Ïöî.",
                hint: "ƒê√£ chu·∫©n b·ªã ho√†n h·∫£o n√™n (kh√¥ng c√≥ v·∫•n ƒë·ªÅ n√†o) x·∫£y ra.",
                noun: "Î¨∏Ï†ú",
                suffix: "ÎèÑ",
                type: "negative"
            },
            {
                id: 11,
                prefix: "Ïö∞Î¶¨Îäî ÏãúÍ∞ÑÏù¥ ÎßéÏïÑÏöî. Î¨¥Ïä®",
                sentence_end: "ÎßåÎÇ† Ïàò ÏûàÏñ¥Ïöî.",
                hint: "Ch√∫ng t√¥i c√≥ nhi·ªÅu th·ªùi gian. C√≥ th·ªÉ g·∫∑p nhau (b·∫•t c·ª© th·ª© m·∫•y/ng√†y n√†o).",
                noun: "ÏöîÏùº",
                suffix: "Îì†ÏßÄ",
                type: "positive"
            },
            {
                id: 12,
                prefix: "ÎßàÏùåÏóê ÎìúÎäî Í≤ÉÏù¥ ÏóÜÏñ¥ÏÑú Ïñ¥Îñ§",
                sentence_end: "ÏÇ¨ÏßÄ ÏïäÏïòÏñ¥Ïöî.",
                hint: "Kh√¥ng c√≥ c√°i n√†o ∆∞ng √Ω n√™n t√¥i ƒë√£ (kh√¥ng mua m√≥n qu√† n√†o).",
                noun: "ÏÑ†Î¨º",
                suffix: "ÎèÑ",
                type: "negative"
            }
        ];

        function App() {
            const [view, setView] = React.useState('home');
            const [currentQIndex, setCurrentQIndex] = React.useState(0);
            const [selectedNoun, setSelectedNoun] = React.useState(null);
            const [selectedSuffix, setSelectedSuffix] = React.useState(null);
            const [status, setStatus] = React.useState("waiting"); 
            const [score, setScore] = React.useState(0);
            const [quizLog, setQuizLog] = React.useState([]); 
            const [history, setHistory] = React.useState(() => {
                const saved = localStorage.getItem('korean_grammar_noun_history');
                return saved ? JSON.parse(saved) : [];
            });

            // Noun List for the current question (Distractors + Answer)
            // To make it interesting, we should show a mix of nouns, or just specific categories?
            // Let's show a fixed set of nouns for simplicity, or subsets.
            // For this UI, showing all 8-12 nouns might be too crowded on mobile.
            // Let's show a random subset including the answer, or grouped by meaning?
            // To keep it simple and consistent, let's show categories or a 4x2 grid of relevant nouns.
            // We will use a pool of nouns from the questions.
            
            const allNouns = ["ÏùåÏãù", "ÏÇ¨Îûå", "ÏòÅÌôî", "Ïùº", "Ï±Ö", "Í∞ÄÍ≤å", "ÎÖ∏Îûò", "ÌïôÏÉù", "Í≥ºÏùº", "Î¨∏Ï†ú", "ÏöîÏùº", "ÏÑ†Î¨º"];
            
            // Suffix List
            const suffixList = [
                { text: "Îì†ÏßÄ", label: "(Ïù¥)Îì†ÏßÄ", desc: "B·∫•t c·ª©... (T·∫•t c·∫£)", type: "positive" },
                { text: "ÎèÑ", label: "ÎèÑ", desc: "Kh√¥ng... (Ph·ªß ƒë·ªãnh)", type: "negative" }
            ];

            const currentQ = questions[currentQIndex];

            // Helper: Check Batchim (Î∞õÏπ®)
            const hasBatchim = (word) => {
                if (!word) return false;
                const lastChar = word.charCodeAt(word.length - 1);
                return (lastChar - 44032) % 28 > 0;
            };

            // Helper: Combine Noun + Suffix
            const getCombinedText = (noun, suffixKey) => {
                if (!noun || !suffixKey) return "______";
                
                if (suffixKey === "Îì†ÏßÄ") {
                    return hasBatchim(noun) ? `${noun}Ïù¥Îì†ÏßÄ` : `${noun}Îì†ÏßÄ`;
                } else {
                    return `${noun}ÎèÑ`;
                }
            };

            const startQuiz = () => {
                setCurrentQIndex(0);
                setScore(0);
                setQuizLog([]);
                setStatus("waiting");
                setSelectedNoun(null);
                setSelectedSuffix(null);
                setView('quiz');
            };

            const handleCheck = () => {
                if (!selectedNoun || !selectedSuffix) return;

                const userAnswer = getCombinedText(selectedNoun, selectedSuffix.text);
                const correctAnswer = getCombinedText(currentQ.noun, currentQ.suffix);
                const isCorrect = selectedNoun === currentQ.noun && selectedSuffix.text === currentQ.suffix;

                if (isCorrect) {
                    setStatus("correct");
                    setScore(s => s + 1);
                } else {
                    setStatus("incorrect");
                }

                if (status === 'waiting') {
                    setQuizLog(prev => [...prev, {
                        qId: currentQ.id,
                        qIndex: currentQIndex + 1,
                        isCorrect: isCorrect,
                        userAnswer: userAnswer,
                        correctAnswer: correctAnswer
                    }]);
                }
            };

            const handleNext = () => {
                if (currentQIndex < questions.length - 1) {
                    setCurrentQIndex(prev => prev + 1);
                    setSelectedNoun(null);
                    setSelectedSuffix(null);
                    setStatus("waiting");
                } else {
                    finishQuiz();
                }
            };

            const finishQuiz = () => {
                const newRecord = {
                    id: Date.now(),
                    date: new Date().toLocaleString('ko-KR'),
                    score: score,
                    total: questions.length,
                    details: quizLog
                };
                
                const updatedHistory = [newRecord, ...history];
                setHistory(updatedHistory);
                localStorage.setItem('korean_grammar_noun_history', JSON.stringify(updatedHistory));
                setView('result');
            };

            const goHome = () => {
                setView('home');
            };

            const clearHistory = () => {
                if(confirm("Ï†ïÎßêÎ°ú Î™®Îì† Í∏∞Î°ùÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå? (B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a t·∫•t c·∫£ l·ªãch s·ª≠ kh√¥ng?)")) {
                    setHistory([]);
                    localStorage.removeItem('korean_grammar_noun_history');
                }
            };

            // -- UI Components --

            // Generate Noun Grid
            // We want to make sure the user finds the correct noun among distractors.
            // Let's display all 12 nouns but highlighted clearly.
            // Or maybe just 6 nouns per question (Correct + 5 Random).
            // Let's use 8 items (2 rows of 4) to ensure it fits mobile.
            const getCurrentNouns = () => {
                const answer = currentQ.noun;
                // Simple deterministic shuffle or fixed list could work. 
                // Let's just show all 12 in a 3x4 grid for consistency so users learn position? 
                // No, 12 is too many buttons for small screens if text is large.
                // Let's show 6 relevant nouns.
                // For simplicity in this code, let's just show all 12 in a scrollable or compact grid.
                return allNouns;
            };

            // --- VIEW: HOME ---
            if (view === 'home') {
                return (
                    <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-indigo-50 no-select">
                        <div className="bg-white p-8 rounded-3xl shadow-xl w-full max-w-sm text-center">
                            <div className="text-5xl mb-4">üá∞üá∑üìù</div>
                            <h1 className="text-2xl font-bold text-indigo-900 mb-2">ÌïúÍµ≠Ïñ¥ Î¨∏Î≤ï Ïó∞Ïäµ</h1>
                            <p className="text-gray-500 mb-8 font-medium">
                                Î¨¥Ïä®/Ïñ¥Îñ§ N(Î™ÖÏÇ¨) + Ïù¥Îì†ÏßÄ/ÎèÑ<br/>
                                <span className="text-sm text-indigo-400">(N + any / N + no)</span>
                            </p>
                            
                            <button onClick={startQuiz} className="w-full bg-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-indigo-700 shadow-md mb-4 transition transform active:scale-95">
                                ÏãúÏûëÌïòÍ∏∞ (B·∫Øt ƒë·∫ßu)
                            </button>
                            
                            {history.length > 0 && (
                                <button onClick={() => setView('history')} className="w-full bg-white text-indigo-600 border-2 border-indigo-100 py-4 rounded-xl font-bold text-lg hover:bg-indigo-50 shadow-sm transition transform active:scale-95">
                                    Í∏∞Î°ù Î≥¥Í∏∞ (L·ªãch s·ª≠)
                                </button>
                            )}
                        </div>
                    </div>
                );
            }

            // --- VIEW: HISTORY ---
            if (view === 'history') {
                return (
                    <div className="min-h-screen flex flex-col p-4 bg-indigo-50 no-select">
                        <div className="w-full max-w-md mx-auto flex-1 flex flex-col">
                            <div className="flex justify-between items-center mb-6">
                                <h2 className="text-xl font-bold text-gray-800">ÎÇòÏùò Í∏∞Î°ù (L·ªãch s·ª≠)</h2>
                                <button onClick={goHome} className="text-sm bg-white px-3 py-1.5 rounded-lg border shadow-sm">
                                    üè† Ìôà (Home)
                                </button>
                            </div>
                            <div className="flex-1 overflow-y-auto space-y-3 pb-4 scroll-hidden">
                                {history.map((record) => (
                                    <div key={record.id} className="bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                                        <div className="flex justify-between items-start mb-3">
                                            <span className="text-xs text-gray-400 font-mono">{record.date}</span>
                                            <span className={`font-bold text-lg ${record.score >= 10 ? 'text-green-600' : 'text-indigo-600'}`}>
                                                {record.score} / {record.total}
                                            </span>
                                        </div>
                                        <div className="grid grid-cols-6 gap-1">
                                            {record.details && record.details.map((log) => (
                                                <div key={log.qId} className={`h-1.5 rounded-full ${log.isCorrect ? 'bg-green-400' : 'bg-red-300'}`}></div>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                            <button onClick={clearHistory} className="mt-4 w-full py-3 text-red-400 text-sm font-medium hover:text-red-600">
                                Í∏∞Î°ù ÏÇ≠Ï†ú (X√≥a l·ªãch s·ª≠)
                            </button>
                        </div>
                    </div>
                );
            }

            // --- VIEW: RESULT ---
            if (view === 'result') {
                return (
                    <div className="min-h-screen bg-indigo-50 p-4 overflow-y-auto">
                        <div className="max-w-md mx-auto bg-white rounded-2xl shadow-xl overflow-hidden">
                            <div className="bg-indigo-600 p-6 text-center text-white">
                                <h2 className="text-2xl font-bold mb-1">Í≤∞Í≥º (K·∫øt qu·∫£)</h2>
                                <p className="text-indigo-100 text-sm mb-4">ÏàòÍ≥†ÌñàÏäµÎãàÎã§! (V·∫•t v·∫£ r·ªìi!)</p>
                                <div className="text-6xl font-bold mb-2">{score} <span className="text-2xl font-normal opacity-70">/ {questions.length}</span></div>
                            </div>
                            <div className="bg-yellow-50 border-b border-yellow-100 p-4 text-center">
                                <p className="text-red-600 font-bold text-sm leading-relaxed">
                                    ‚ö†Ô∏è ÏÑ†ÏÉùÎãò ÌôïÏù∏Ïö© (D√†nh cho gi√°o vi√™n)<br/>
                                    <span className="text-gray-800 text-lg">"Sau khi l√†m xong, h√£y ƒë∆∞a m√†n h√¨nh n√†y cho gi√°o vi√™n xem."</span>
                                </p>
                            </div>
                            <div className="p-4">
                                <h3 className="font-bold text-gray-700 mb-3 text-sm">ÏÉÅÏÑ∏ Í≤∞Í≥º (Chi ti·∫øt)</h3>
                                <div className="border rounded-xl overflow-hidden text-sm">
                                    <div className="grid grid-cols-12 bg-gray-100 border-b p-2 font-bold text-gray-600 text-center">
                                        <div className="col-span-2">#</div>
                                        <div className="col-span-7">ÎãµÏïà (Tr·∫£ l·ªùi)</div>
                                        <div className="col-span-3">O/X</div>
                                    </div>
                                    {quizLog.map((log, idx) => (
                                        <div key={idx} className={`grid grid-cols-12 p-3 border-b last:border-0 items-center ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}`}>
                                            <div className="col-span-2 text-center font-bold text-gray-500">{log.qIndex}</div>
                                            <div className="col-span-7 pl-2">
                                                <span className={`${log.isCorrect ? 'text-gray-800' : 'text-red-500 line-through'}`}>
                                                    {log.userAnswer}
                                                </span>
                                                {!log.isCorrect && (
                                                    <div className="text-xs text-green-600 mt-1">
                                                        ‚Üí {log.correctAnswer}
                                                    </div>
                                                )}
                                            </div>
                                            <div className="col-span-3 text-center">
                                                {log.isCorrect 
                                                    ? <span className="text-green-500 font-bold text-lg">‚≠ï</span> 
                                                    : <span className="text-red-500 font-bold text-lg">‚ùå</span>}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            <div className="p-4 bg-gray-50 border-t">
                                <button onClick={goHome} className="w-full bg-indigo-600 text-white py-3 rounded-xl font-bold hover:bg-indigo-700 transition">
                                    Ï≤òÏùåÏúºÎ°ú (V·ªÅ trang ch·ªß)
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // --- VIEW: QUIZ ---
            const prefix = currentQ.override_prefix || currentQ.prefix;
            const sentenceEnd = currentQ.override_end || currentQ.sentence_end;

            return (
                <div className="min-h-screen flex flex-col py-4 px-3 max-w-md mx-auto no-select">
                    {/* Header */}
                    <header className="flex justify-between items-center mb-4 px-1">
                        <button onClick={goHome} className="text-gray-400 text-sm hover:text-gray-600">‚Üê Home</button>
                        <div className="bg-white px-3 py-1 rounded-lg shadow-sm border border-indigo-100">
                            <span className="text-xs text-gray-400 mr-2">Score</span>
                            <span className="text-lg font-bold text-indigo-600">{score}/{questions.length}</span>
                        </div>
                    </header>

                    {/* Progress */}
                    <div className="w-full bg-indigo-100 rounded-full h-2 mb-6">
                        <div className="bg-indigo-500 h-2 rounded-full transition-all duration-300" 
                            style={{ width: `${((currentQIndex + 1) / questions.length) * 100}%` }}></div>
                    </div>

                    {/* Question Card */}
                    <div className="bg-white rounded-2xl shadow-lg p-5 w-full mb-4 relative border-l-4 border-indigo-500 flex flex-col justify-center min-h-[160px]">
                        <div className="absolute top-3 right-3 text-xs font-bold text-gray-300">Q.{currentQIndex + 1}</div>
                        
                        <div className="text-xl sm:text-2xl font-bold text-gray-800 leading-relaxed text-center mb-3 break-keep">
                            {prefix}
                            <span className={`inline-block border-b-2 px-1 mx-1 transition-colors duration-300 min-w-[80px] text-center font-bold
                                ${status === 'correct' ? 'border-green-500 text-green-600 bg-green-50 rounded' : 
                                  status === 'incorrect' ? 'border-red-500 text-red-600 bg-red-50 rounded' : 'border-indigo-300 text-indigo-600'}
                            `}>
                                {status === 'waiting' 
                                    ? getCombinedText(selectedNoun, selectedSuffix?.text) 
                                    : getCombinedText(currentQ.noun, currentQ.suffix)}
                            </span>
                            {sentenceEnd}
                        </div>

                        <div className="text-center">
                            <span className="inline-block bg-indigo-50 text-indigo-600 text-xs sm:text-sm px-3 py-1.5 rounded-full font-medium">
                                üáªüá≥ {currentQ.hint}
                            </span>
                        </div>
                        
                        {status === 'incorrect' && (
                             <div className="mt-3 text-center text-xs text-red-500 font-medium bg-red-50 p-2 rounded">
                                Ï†ïÎãµ: <strong>{getCombinedText(currentQ.noun, currentQ.suffix)}</strong>
                                <br/>
                                {currentQ.type === 'positive' ? "'-(Ïù¥)Îì†ÏßÄ': b·∫•t c·ª© (All/Any)" : "'-ÎèÑ': c≈©ng kh√¥ng (No/None)"}
                            </div>
                        )}
                    </div>

                    {/* Controls */}
                    <div className="flex-1 flex flex-col justify-end space-y-3 pb-2">
                        {/* Step 1: Nouns */}
                        <div>
                            <p className="text-xs font-bold text-gray-500 mb-1.5 flex items-center">
                                <span className="bg-gray-200 text-gray-600 rounded-full w-5 h-5 inline-flex items-center justify-center mr-1.5">1</span>
                                Î™ÖÏÇ¨ (Danh t·ª´)
                            </p>
                            <div className="grid grid-cols-4 gap-2">
                                {getCurrentNouns().map(noun => (
                                    <button
                                        key={noun}
                                        disabled={status !== 'waiting'}
                                        onClick={() => setSelectedNoun(noun)}
                                        className={`py-2 rounded-lg font-bold text-sm sm:text-base transition-all touch-manipulation
                                            ${selectedNoun === noun 
                                                ? 'bg-indigo-600 text-white shadow-md transform scale-105' 
                                                : 'bg-white text-gray-600 border border-gray-200 active:bg-gray-50'}
                                            ${status !== 'waiting' && noun !== currentQ.noun ? 'opacity-30' : ''}
                                        `}
                                    >
                                        {noun}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Step 2: Suffixes */}
                        <div>
                            <p className="text-xs font-bold text-gray-500 mb-1.5 flex items-center">
                                <span className="bg-gray-200 text-gray-600 rounded-full w-5 h-5 inline-flex items-center justify-center mr-1.5">2</span>
                                Ï°∞ÏÇ¨ (Ti·ªÉu t·ª´)
                            </p>
                            <div className="grid grid-cols-2 gap-3">
                                {suffixList.map(suf => (
                                    <button
                                        key={suf.text}
                                        disabled={status !== 'waiting'}
                                        onClick={() => setSelectedSuffix(suf)}
                                        className={`py-3 px-3 rounded-xl flex items-center justify-between transition-all touch-manipulation border-2
                                            ${selectedSuffix?.text === suf.text 
                                                ? 'bg-purple-600 text-white shadow-md border-purple-600' 
                                                : 'bg-white text-gray-600 border-gray-100 active:bg-gray-50'}
                                            ${status !== 'waiting' && suf.text !== currentQ.suffix ? 'opacity-30' : ''}
                                        `}
                                    >
                                        <div className="flex flex-col text-left">
                                            <span className="text-lg font-bold">-{suf.label}</span>
                                            <span className={`text-[10px] ${selectedSuffix?.text === suf.text ? 'text-purple-200' : 'text-gray-400'}`}>
                                                {suf.desc}
                                            </span>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Action Button */}
                        <div className="h-14 mt-2">
                            {status === 'waiting' ? (
                                <button 
                                    onClick={handleCheck}
                                    disabled={!selectedNoun || !selectedSuffix}
                                    className={`w-full h-full rounded-xl font-bold text-lg transition-all shadow-md flex items-center justify-center
                                        ${(!selectedNoun || !selectedSuffix) 
                                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed' 
                                            : 'bg-green-500 text-white hover:bg-green-600 active:scale-95'}
                                    `}
                                >
                                    ÌôïÏù∏ (Ki·ªÉm tra)
                                </button>
                            ) : (
                                <button 
                                    onClick={handleNext}
                                    className={`w-full h-full rounded-xl font-bold text-lg text-white shadow-md flex items-center justify-center active:scale-95 transition-all
                                        ${status === 'correct' ? 'bg-blue-600' : 'bg-gray-700'}
                                    `}
                                >
                                    {currentQIndex < questions.length - 1 ? 'Îã§Ïùå Î¨∏Ï†ú (Ti·∫øp theo) ‚Üí' : 'Í≤∞Í≥º Î≥¥Í∏∞ (Xem k·∫øt qu·∫£)'}
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
