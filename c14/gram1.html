
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¬¸ë²• í•™ìŠµ: í•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .grammar-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .example-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .example-list li::before {
            content: 'â—¦';
            position: absolute;
            left: 0;
            color: #3b82f6; /* blue-500 */
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
            border-color: #22c55e; /* green-500 */
        }
        .quiz-option.wrong {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-500 */
        }
        .lang-btn {
            transition: all 0.2s ease-in-out;
        }
        .lang-btn.active {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <div class="container mx-auto max-w-4xl">
        <!-- Grammar Explanation View -->
        <div id="explanation-view">
            <div class="grammar-card">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-gray-800">ë¬¸ë²• í•™ìŠµ</h1>
                    <p id="grammar-title" class="text-2xl text-blue-600 font-semibold mt-2">í•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ</p>
                </div>

                <div id="language-selector" class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8 bg-gray-100 p-2 rounded-xl shadow-inner">
                    <button data-lang="ko" class="lang-btn px-4 py-2 text-sm sm:text-base font-semibold text-white bg-blue-500 rounded-lg shadow-md hover:bg-blue-600">í•œêµ­ì–´</button>
                    <button data-lang="en" class="lang-btn px-4 py-2 text-sm sm:text-base font-semibold text-white bg-teal-500 rounded-lg shadow-md hover:bg-teal-600">English</button>
                    <button data-lang="vi" class="lang-btn px-4 py-2 text-sm sm:text-base font-semibold text-white bg-green-500 rounded-lg shadow-md hover:bg-green-600">Tiáº¿ng Viá»‡t</button>
                    <button data-lang="ja" class="lang-btn px-4 py-2 text-sm sm:text-base font-semibold text-white bg-purple-500 rounded-lg shadow-md hover:bg-purple-600">æ—¥æœ¬èª</button>
                    <button data-lang="zh" class="lang-btn px-4 py-2 text-sm sm:text-base font-semibold text-white bg-red-500 rounded-lg shadow-md hover:bg-red-600">ä¸­æ–‡</button>
                </div>


                <div class="space-y-6">
                    <div>
                        <h2 id="description-title" class="text-xl font-bold text-gray-700 mb-2">ì„¤ëª…</h2>
                        <p id="description-content" class="text-gray-600">
                            ì–´ë–¤ ì¼ì˜ ì •ë„ê°€ ì§€ë‚˜ì¹¨ì„ ê°•ì¡°í•˜ì—¬ ê·¸ ê²°ê³¼ë‚˜ ì›ì¸ì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 'í•˜ë„'ëŠ” 'ë„ˆë¬´'ì™€ ë¹„ìŠ·í•œ ì˜ë¯¸ë¡œ, ì •ë„ê°€ ë§¤ìš° ì‹¬í•˜ë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ëŠ” ë¶€ì‚¬ì…ë‹ˆë‹¤.
                        </p>
                    </div>

                    <div>
                        <h2 id="conjugation-title" class="text-xl font-bold text-gray-700 mb-2">ê²°í•© í˜•íƒœ</h2>
                        <ul id="conjugation-list" class="list-disc list-inside text-gray-600 space-y-1">
                            <li><b>í˜•ìš©ì‚¬/ë™ì‚¬ ì–´ê°„ì˜ ë§ˆì§€ë§‰ ëª¨ìŒì´ 'ã…, ã…—'ì¼ ë•Œ: -ì•„ì„œ</b>
                                <ul class="list-inside ml-6 text-sm">
                                    <li>ë¹„ì‹¸ë‹¤ â†’ í•˜ë„ ë¹„ì‹¸ì„œ</li>
                                    <li>ì¢‹ë‹¤ â†’ í•˜ë„ ì¢‹ì•„ì„œ</li>
                                    <li>ë§ë‹¤ â†’ í•˜ë„ ë§ì•„ì„œ</li>
                                </ul>
                            </li>
                            <li><b>í˜•ìš©ì‚¬/ë™ì‚¬ ì–´ê°„ì˜ ë§ˆì§€ë§‰ ëª¨ìŒì´ 'ã…, ã…—'ê°€ ì•„ë‹ ë•Œ: -ì–´ì„œ</b>
                                <ul class="list-inside ml-6 text-sm">
                                   <li>ì½ë‹¤ â†’ í•˜ë„ ì½ì–´ì„œ</li>
                                   <li>ë¨¹ë‹¤ â†’ í•˜ë„ ë¨¹ì–´ì„œ</li>
                                   <li>í”¼ê³¤í•˜ë‹¤ (í”¼ê³¤í•˜+ì—¬ì„œ) â†’ í•˜ë„ í”¼ê³¤í•´ì„œ</li>
                                </ul>
                           </li>
                        </ul>
                    </div>

                    <div>
                        <h2 id="example-title" class="text-xl font-bold text-gray-700 mb-2">ì˜ˆì‹œ</h2>
                        <ul id="example-list" class="example-list text-gray-600">
                            <li>ì–´ì œ <span class="font-semibold text-blue-500">í•˜ë„ í”¼ê³¤í•´ì„œ</span> ì €ë… ë¨¹ìë§ˆì ì ì´ ë“¤ì—ˆì–´ìš”.</li>
                            <li>ë¨¸ë¦¬ê°€ <span class="font-semibold text-blue-500">í•˜ë„ ì•„íŒŒì„œ</span> ì¼ì° í‡´ê·¼í–ˆì–´ìš”.</li>
                            <li>ê¸¸ì´ <span class="font-semibold text-blue-500">í•˜ë„ ë§‰í˜€ì„œ</span> ìš”ì¦˜ ëŒ€ì¤‘êµí†µì„ ì´ìš©í•˜ê³  ìˆì–´ìš”.</li>
                            <li>ì–´ì œ ì €ë…ì— <span class="font-semibold text-blue-500">í•˜ë„ ë§ì´ ë¨¹ì–´ì„œ</span> ì•„ì§ê¹Œì§€ ë°°ê°€ ì•ˆ ê³ íŒŒìš”.</li>
                            <li><span class="font-semibold text-blue-500">í•˜ë„ ê±¸ì–´ì„œ</span> ë‹¤ë¦¬ê°€ ì•„íŒŒìš”.</li>
                        </ul>
                    </div>
                </div>

                <div class="text-center mt-10">
                    <button id="start-quiz-btn" class="px-8 py-3 font-bold text-white bg-blue-500 rounded-lg shadow-md hover:bg-blue-600 transition-all duration-300">ì—°ìŠµ ë¬¸ì œ í’€ê¸°</button>
                </div>
            </div>
        </div>

        <!-- Quiz View -->
        <div id="quiz-view" class="hidden">
             <div class="grammar-card">
                 <div id="quiz-header" class="text-center mb-6">
                     <p id="quiz-progress" class="text-sm text-gray-500"></p>
                     <h2 id="quiz-question" class="text-2xl font-bold text-gray-800 mt-2"></h2>
                 </div>
                 <div id="quiz-options" class="grid grid-cols-1 gap-4">
                     <!-- Options will be injected here -->
                 </div>
                 <div id="quiz-feedback" class="mt-6 text-center h-8"></div>
             </div>
        </div>
        
        <!-- Result View -->
        <div id="result-view" class="hidden">
            <div class="grammar-card text-center">
                <h2 id="result-title" class="text-3xl font-bold text-blue-600 mb-4">í€´ì¦ˆ ì™„ë£Œ!</h2>
                <p id="result-score" class="text-xl text-gray-700 mb-6"></p>
                <div id="result-details" class="text-left space-y-4"></div>
                <div class="mt-8 flex justify-center gap-4">
                    <button id="restart-quiz-btn" class="px-6 py-3 font-bold text-white bg-blue-500 rounded-lg shadow-md hover:bg-blue-600 transition-all duration-300">ë‹¤ì‹œ í’€ê¸°</button>
                    <button id="back-to-explanation-btn" class="px-6 py-3 font-bold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 transition-all duration-300">ì„¤ëª… ë³´ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const explanationView = document.getElementById('explanation-view');
        const quizView = document.getElementById('quiz-view');
        const resultView = document.getElementById('result-view');
        
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const restartQuizBtn = document.getElementById('restart-quiz-btn');
        const backToExplanationBtn = document.getElementById('back-to-explanation-btn');

        const langButtons = document.querySelectorAll('.lang-btn');

        // Content Elements
        const grammarTitleEl = document.getElementById('grammar-title');
        const descriptionTitleEl = document.getElementById('description-title');
        const descriptionContentEl = document.getElementById('description-content');
        const conjugationTitleEl = document.getElementById('conjugation-title');
        const conjugationListEl = document.getElementById('conjugation-list');
        const exampleTitleEl = document.getElementById('example-title');
        const exampleListEl = document.getElementById('example-list');

        const quizProgressEl = document.getElementById('quiz-progress');
        const quizQuestionEl = document.getElementById('quiz-question');
        const quizOptionsEl = document.getElementById('quiz-options');
        const quizFeedbackEl = document.getElementById('quiz-feedback');
        
        const resultTitleEl = document.getElementById('result-title');
        const resultScoreEl = document.getElementById('result-score');
        const resultDetailsEl = document.getElementById('result-details');

        const koreanExamples = [
            "<li>ì–´ì œ <span class='font-semibold text-blue-500'>í•˜ë„ í”¼ê³¤í•´ì„œ</span> ì €ë… ë¨¹ìë§ˆì ì ì´ ë“¤ì—ˆì–´ìš”.</li>",
            "<li>ë¨¸ë¦¬ê°€ <span class='font-semibold text-blue-500'>í•˜ë„ ì•„íŒŒì„œ</span> ì¼ì° í‡´ê·¼í–ˆì–´ìš”.</li>",
            "<li>ê¸¸ì´ <span class='font-semibold text-blue-500'>í•˜ë„ ë§‰í˜€ì„œ</span> ìš”ì¦˜ ëŒ€ì¤‘êµí†µì„ ì´ìš©í•˜ê³  ìˆì–´ìš”.</li>",
            "<li>ì–´ì œ ì €ë…ì— <span class='font-semibold text-blue-500'>í•˜ë„ ë§ì´ ë¨¹ì–´ì„œ</span> ì•„ì§ê¹Œì§€ ë°°ê°€ ì•ˆ ê³ íŒŒìš”.</li>",
            "<li><span class='font-semibold text-blue-500'>í•˜ë„ ê±¸ì–´ì„œ</span> ë‹¤ë¦¬ê°€ ì•„íŒŒìš”.</li>"
        ];

        const contentData = {
            ko: {
                title: "í•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ",
                descriptionTitle: "ì„¤ëª…",
                description: "ì–´ë–¤ ì¼ì˜ ì •ë„ê°€ ì§€ë‚˜ì¹¨ì„ ê°•ì¡°í•˜ì—¬ ê·¸ ê²°ê³¼ë‚˜ ì›ì¸ì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 'í•˜ë„'ëŠ” 'ë„ˆë¬´'ì™€ ë¹„ìŠ·í•œ ì˜ë¯¸ë¡œ, ì •ë„ê°€ ë§¤ìš° ì‹¬í•˜ë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ëŠ” ë¶€ì‚¬ì…ë‹ˆë‹¤.",
                conjugationTitle: "ê²°í•© í˜•íƒœ",
                conjugation: [
                    "<li><b>í˜•ìš©ì‚¬/ë™ì‚¬ ì–´ê°„ì˜ ë§ˆì§€ë§‰ ëª¨ìŒì´ 'ã…, ã…—'ì¼ ë•Œ: -ì•„ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ë¹„ì‹¸ë‹¤ â†’ í•˜ë„ ë¹„ì‹¸ì„œ</li><li>ì¢‹ë‹¤ â†’ í•˜ë„ ì¢‹ì•„ì„œ</li><li>ë§ë‹¤ â†’ í•˜ë„ ë§ì•„ì„œ</li></ul></li>",
                    "<li><b>í˜•ìš©ì‚¬/ë™ì‚¬ ì–´ê°„ì˜ ë§ˆì§€ë§‰ ëª¨ìŒì´ 'ã…, ã…—'ê°€ ì•„ë‹ ë•Œ: -ì–´ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ì½ë‹¤ â†’ í•˜ë„ ì½ì–´ì„œ</li><li>ë¨¹ë‹¤ â†’ í•˜ë„ ë¨¹ì–´ì„œ</li><li>í”¼ê³¤í•˜ë‹¤ (í”¼ê³¤í•˜+ì—¬ì„œ) â†’ í•˜ë„ í”¼ê³¤í•´ì„œ</li></ul></li>"
                ],
                exampleTitle: "ì˜ˆì‹œ",
                examples: koreanExamples
            },
            en: {
                title: "So A/V that...",
                descriptionTitle: "Description",
                description: "Used to emphasize that the degree of something is excessive, indicating its result or cause. 'í•˜ë„' is similar in meaning to 'too' or 'so', emphasizing that the degree is very severe.",
                conjugationTitle: "Conjugation",
                conjugation: [
                    "<li><b>When the last vowel of the A/V stem is 'ã…' or 'ã…—': -ì•„ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ë¹„ì‹¸ë‹¤ (expensive) â†’ í•˜ë„ ë¹„ì‹¸ì„œ (so expensive that)</li><li>ì¢‹ë‹¤ (good) â†’ í•˜ë„ ì¢‹ì•„ì„œ (so good that)</li><li>ë§ë‹¤ (many/much) â†’ í•˜ë„ ë§ì•„ì„œ (so much that)</li></ul></li>",
                    "<li><b>When the last vowel of the A/V stem is not 'ã…' or 'ã…—': -ì–´ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ì½ë‹¤ (to read) â†’ í•˜ë„ ì½ì–´ì„œ (read so much that)</li><li>ë¨¹ë‹¤ (to eat) â†’ í•˜ë„ ë¨¹ì–´ì„œ (ate so much that)</li><li>í”¼ê³¤í•˜ë‹¤ (to be tired) â†’ í•˜ë„ í”¼ê³¤í•´ì„œ (so tired that)</li></ul></li>"
                ],
                exampleTitle: "Examples",
                examples: koreanExamples
            },
            vi: {
                title: "Ngá»¯ phÃ¡p: í•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ",
                descriptionTitle: "Giáº£i thÃ­ch",
                description: "Sá»­ dá»¥ng khi muá»‘n nháº¥n máº¡nh má»©c Ä‘á»™ cá»§a má»™t viá»‡c gÃ¬ Ä‘Ã³ quÃ¡ má»©c, vÃ  thá»ƒ hiá»‡n káº¿t quáº£ hoáº·c nguyÃªn nhÃ¢n cá»§a nÃ³. 'í•˜ë„' cÃ³ nghÄ©a tÆ°Æ¡ng tá»± nhÆ° 'ë„ˆë¬´' (quÃ¡), lÃ  má»™t phÃ³ tá»« nháº¥n máº¡nh ráº±ng má»©c Ä‘á»™ ráº¥t nghiÃªm trá»ng.",
                conjugationTitle: "HÃ¬nh thá»©c káº¿t há»£p",
                conjugation: [
                    "<li><b>Khi nguyÃªn Ã¢m cuá»‘i cá»§a gá»‘c Ä‘á»™ng tá»«/tÃ­nh tá»« lÃ  'ã…, ã…—': -ì•„ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ë¹„ì‹¸ë‹¤ â†’ í•˜ë„ ë¹„ì‹¸ì„œ</li><li>ì¢‹ë‹¤ â†’ í•˜ë„ ì¢‹ì•„ì„œ</li></ul></li>",
                    "<li><b>Khi nguyÃªn Ã¢m cuá»‘i cá»§a gá»‘c Ä‘á»™ng tá»«/tÃ­nh tá»« khÃ´ng pháº£i lÃ  'ã…, ã…—': -ì–´ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ì½ë‹¤ â†’ í•˜ë„ ì½ì–´ì„œ</li><li>ë¨¹ë‹¤ â†’ í•˜ë„ ë¨¹ì–´ì„œ</li></ul></li>"
                ],
                exampleTitle: "VÃ­ dá»¥",
                examples: koreanExamples
            },
            ja: {
                title: "æ–‡æ³•ï¼ší•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ",
                descriptionTitle: "èª¬æ˜",
                description: "ã‚ã‚‹äº‹æŸ„ã®ç¨‹åº¦ãŒç”šã ã—ã„ã“ã¨ã‚’å¼·èª¿ã—ã€ãã®çµæœã‚„åŸå› ã‚’è¡¨ã™ã¨ãã«ä½¿ã„ã¾ã™ã€‚ã€Œí•˜ë„ã€ã¯ã€Œã‚ã¾ã‚Šã«ã‚‚ã€ã¨ã„ã†æ„å‘³ã§ã€ç¨‹åº¦ãŒéå¸¸ã«æ¿€ã—ã„ã“ã¨ã‚’å¼·èª¿ã™ã‚‹å‰¯è©ã§ã™ã€‚",
                conjugationTitle: "çµåˆå½¢æ…‹",
                conjugation: [
                    "<li><b>å½¢å®¹è©ãƒ»å‹•è©ã®èªå¹¹ã®æœ€å¾Œã®æ¯éŸ³ãŒã€Œã…, ã…—ã€ã®å ´åˆï¼š-ì•„ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ë¹„ì‹¸ë‹¤ â†’ í•˜ë„ ë¹„ì‹¸ì„œ</li><li>ì¢‹ë‹¤ â†’ í•˜ë„ ì¢‹ì•„ì„œ</li></ul></li>",
                    "<li><b>å½¢å®¹è©ãƒ»å‹•è©ã®èªå¹¹ã®æœ€å¾Œã®æ¯éŸ³ãŒã€Œã…, ã…—ã€ä»¥å¤–ã®å ´åˆï¼š-ì–´ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ì½ë‹¤ â†’ í•˜ë„ ì½ì–´ì„œ</li><li>ë¨¹ë‹¤ â†’ í•˜ë„ ë¨¹ì–´ì„œ</li></ul></li>"
                ],
                exampleTitle: "ä¾‹æ–‡",
                examples: koreanExamples
            },
            zh: {
                title: "è¯­æ³•ï¼ší•˜ë„ A/V-ì•„ì„œ/ì–´ì„œ",
                descriptionTitle: "è¯´æ˜",
                description: "ç”¨äºå¼ºè°ƒæŸä»¶äº‹çš„ç¨‹åº¦è¿‡åˆ†ï¼Œä»è€Œå¼•å‡ºå…¶ç»“æœæˆ–åŸå› ã€‚'í•˜ë„' çš„æ„æ€ç±»ä¼¼äº 'ë„ˆë¬´' (å¤ª)ï¼Œæ˜¯å¼ºè°ƒç¨‹åº¦éå¸¸ä¸¥é‡çš„å‰¯è¯ã€‚",
                conjugationTitle: "ç»“åˆå½¢æ€",
                conjugation: [
                    "<li><b>å½“å½¢å®¹è¯/åŠ¨è¯è¯å¹²çš„æœ€åä¸€ä¸ªå…ƒéŸ³æ˜¯'ã…, ã…—'æ—¶: -ì•„ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ë¹„ì‹¸ë‹¤ â†’ í•˜ë„ ë¹„ì‹¸ì„œ</li><li>ì¢‹ë‹¤ â†’ í•˜ë„ ì¢‹ì•„ì„œ</li></ul></li>",
                    "<li><b>å½“å½¢å®¹è¯/åŠ¨è¯è¯å¹²çš„æœ€åä¸€ä¸ªå…ƒéŸ³ä¸æ˜¯'ã…, ã…—'æ—¶: -ì–´ì„œ</b><ul class='list-inside ml-6 text-sm'><li>ì½ë‹¤ â†’ í•˜ë„ ì½ì–´ì„œ</li><li>ë¨¹ë‹¤ â†’ í•˜ë„ ë¨¹ì–´ì„œ</li></ul></li>"
                ],
                exampleTitle: "ç¤ºä¾‹",
                examples: koreanExamples
            }
        };

        const quizData = [
            { question: "ê°€: ì™œ ì €ë… ë¨¹ìë§ˆì ì ì´ ë“¤ì—ˆì–´ìš”? <br>ë‚˜: ì–´ì œ ______.", options: ["í•˜ë„ í”¼ê³¤í•´ì„œìš”", "ë„ˆë¬´ í”¼ê³¤í•  ê±°ì˜ˆìš”", "ê°€ë” í”¼ê³¤í•˜ë‹ˆê¹Œìš”", "í”¼ê³¤í•˜ì§€ë§Œ ê´œì°®ì•„ìš”"], answer: "í•˜ë„ í”¼ê³¤í•´ì„œìš”" },
            { question: "ê°€: ì™œ ê·¸ë ‡ê²Œ ì¼ì° í‡´ê·¼í–ˆì–´ìš”?<br>ë‚˜: ______ ì¼ì° í‡´ê·¼í–ˆì–´ìš”.", options: ["ë¨¸ë¦¬ê°€ í•˜ë„ ì•„íŒŒì„œ", "ë¨¸ë¦¬ê°€ ì•„í”„ì§€ë§Œ", "ë¨¸ë¦¬ê°€ ì•ˆ ì•„íŒŒì„œ", "ë¨¸ë¦¬ê°€ ì•„í”„ë©´"], answer: "ë¨¸ë¦¬ê°€ í•˜ë„ ì•„íŒŒì„œ" },
            { question: "ê°€: ê·¸ ì˜í™” ì–´ë•Œìš”?<br>ë‚˜: ______ ì„¸ ë²ˆì´ë‚˜ ë´¤ì–´ìš”.", options: ["í•˜ë„ ì¬ë¯¸ì—†ì–´ì„œ", "í•˜ë„ ì¬ë¯¸ìˆì–´ì„œ", "ì¬ë¯¸ìˆì„ ê²ƒ ê°™ì•„ì„œ", "ì¬ë¯¸ì—†ì§€ë§Œ ë´¤ì–´ìš”"], answer: "í•˜ë„ ì¬ë¯¸ìˆì–´ì„œ" },
            { question: "ë‹¤ìŒ ë¬¸ì¥ ì¤‘ ì˜³ì€ ê²ƒì„ ê³ ë¥´ì„¸ìš”.", options: ["ì•„ì´ê°€ í•˜ë„ ì˜ˆë»ì„œ ëˆˆì„ ë—„ ìˆ˜ê°€ ì—†ì–´ìš”.", "ë‚ ì”¨ê°€ í•˜ë„ ì¢‹ì•„ì„œ ê¸°ë¶„ì´ ë‚˜ë¹ ìš”.", "ìŒì‹ì´ í•˜ë„ ë§¤ì›Œì„œ ì•„ì£¼ ë§›ìˆì—ˆì–´ìš”.", "ìˆ™ì œê°€ í•˜ë„ ì‰¬ì›Œì„œ ë°¤ì„ ìƒˆì› ì–´ìš”."], answer: "ì•„ì´ê°€ í•˜ë„ ì˜ˆë»ì„œ ëˆˆì„ ë—„ ìˆ˜ê°€ ì—†ì–´ìš”." },
            { question: "ê°€: ì™œ ìš”ì¦˜ ëŒ€ì¤‘êµí†µì„ ì´ìš©í•´ìš”?<br>ë‚˜: ê¸¸ì´ ______.", options: ["ì•ˆ ë§‰í˜€ì„œìš”", "í•˜ë„ ë§‰í˜€ì„œìš”", "ë§‰íˆëŠ” ê²ƒ ê°™ì•„ì„œìš”", "ë§‰íì§€ë„ ëª°ë¼ìš”"], answer: "í•˜ë„ ë§‰í˜€ì„œìš”" }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];
        let currentLang = 'ko';

        function updateContent(lang) {
            const content = contentData[lang];
            grammarTitleEl.textContent = content.title;
            descriptionTitleEl.textContent = content.descriptionTitle;
            descriptionContentEl.textContent = content.description;
            conjugationTitleEl.textContent = content.conjugationTitle;
            conjugationListEl.innerHTML = content.conjugation.join('');
            exampleTitleEl.textContent = content.exampleTitle;
            exampleListEl.innerHTML = content.examples.join('');

            langButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
        }

        function showView(view) {
            explanationView.classList.add('hidden');
            quizView.classList.add('hidden');
            resultView.classList.add('hidden');
            view.classList.remove('hidden');
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            showView(quizView);
            displayQuestion();
        }

        function displayQuestion() {
            const question = quizData[currentQuestionIndex];
            quizProgressEl.textContent = `ë¬¸ì œ ${currentQuestionIndex + 1} / ${quizData.length}`;
            quizQuestionEl.innerHTML = question.question;
            quizOptionsEl.innerHTML = '';
            quizFeedbackEl.innerHTML = '';

            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);

            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.innerHTML = option;
                button.className = "quiz-option w-full p-4 text-left bg-gray-100 rounded-lg border-2 border-transparent hover:bg-gray-200 transition-all duration-200";
                button.onclick = () => selectAnswer(option, question.answer, button);
                quizOptionsEl.appendChild(button);
            });
        }
        
        function selectAnswer(selected, correct, btn) {
            userAnswers[currentQuestionIndex] = selected;
            const isCorrect = selected === correct;
            const question = quizData[currentQuestionIndex];
            
            if (isCorrect) {
                score++;
                btn.classList.add('correct');
                quizFeedbackEl.innerHTML = '<span class="font-bold text-green-600">ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</span>';
            } else {
                btn.classList.add('wrong');
                let feedbackText = `<span class="font-bold text-red-600">í‹€ë ¸ìŠµë‹ˆë‹¤.</span>`;
                if(question.explanation) {
                    feedbackText += `<br><span class="text-sm text-gray-600">${question.explanation}</span>`;
                }
                quizFeedbackEl.innerHTML = feedbackText;
            }

            Array.from(quizOptionsEl.children).forEach(button => {
                button.disabled = true;
                if(button.innerHTML === correct) {
                    button.classList.add('correct');
                }
            });

            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizData.length) {
                    displayQuestion();
                } else {
                    showResult();
                }
            }, 2000);
        }

        function showResult() {
            showView(resultView);
            resultTitleEl.textContent = 'í€´ì¦ˆ ì™„ë£Œ!';
            resultScoreEl.textContent = `ì´ ${quizData.length}ë¬¸ì œ ì¤‘ ${score}ë¬¸ì œë¥¼ ë§í˜”ìŠµë‹ˆë‹¤. (ì ìˆ˜: ${Math.round((score/quizData.length)*100)}ì )`;
            resultDetailsEl.innerHTML = '';
            
            quizData.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === q.answer;
                const resultItem = document.createElement('div');
                resultItem.className = `p-3 rounded-lg ${isCorrect ? 'bg-green-50' : 'bg-red-50'}`;
                resultItem.innerHTML = `
                    <p class="font-semibold">${index + 1}. ${q.question.replace(/<br>/g, ' ')}</p>
                    <p class="text-sm ${isCorrect ? 'text-green-700' : 'text-red-700'}">
                        <b>ì„ íƒ:</b> ${userAnswer} ${isCorrect ? 'âœ”' : `âœ˜ (ì •ë‹µ: ${q.answer})`}
                    </p>
                `;
                resultDetailsEl.appendChild(resultItem);
            });
        }

        // Event Listeners
        startQuizBtn.addEventListener('click', startQuiz);
        restartQuizBtn.addEventListener('click', startQuiz);

        backToExplanationBtn.addEventListener('click', () => showView(explanationView));
        
        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                currentLang = button.dataset.lang;
                updateContent(currentLang);
            });
        });

        // Initial Setup
        updateContent('ko');
    });
    </script>
</body>
</html>

