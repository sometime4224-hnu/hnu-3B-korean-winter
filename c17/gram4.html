<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>한국어 문법 학습: -N(이)라고 다 ... 것은 아니다</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Noto Sans KR 폰트를 기본으로 사용 */
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
        }
        /* 피드백 메시지 스타일 */
        .feedback {
            margin-top: 8px;
            font-size: 0.875rem; /* 14px */
            font-weight: 500;
        }
        .feedback.correct {
            color: #10B981; /* green-500 */
        }
        .feedback.incorrect {
            color: #EF4444; /* red-500 */
        }
        .feedback.info {
            color: #3B82F6; /* blue-500 */
        }
        /* 활성 언어 버튼 스타일 */
        .lang-btn.active {
            background-color: #2563EB; /* blue-600 */
            color: white;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 md:p-8">

    <!-- 메인 컨테이너 -->
    <div class="max-w-4xl w-full bg-white rounded-xl shadow-2xl overflow-hidden my-8">
        
        <!-- 헤더 -->
        <header class="p-6 md:p-8 bg-gradient-to-r from-blue-600 to-blue-800 text-white shadow-md">
            <h1 class="text-3xl md:text-4xl font-bold">문법과 표현 2</h1>
            <p class="text-xl md:text-2xl mt-2 font-semibold">N(이)라고 (해서) 다 A(으)ㄴ/V-는 것은 아니다</p>
            <p class="text-lg mt-1 opacity-90" data-lang-key="header_subtitle">Grammar for Correcting Generalizations</p>
        </header>

        <!-- 컨텐츠 영역 -->
        <main class="p-6 md:p-8 space-y-8">

            <!-- 0. 언어 선택 (Language Selection) -->
            <section>
                <h2 class="text-xl font-semibold text-gray-700 mb-3" data-lang-key="lang_select_title">언어 선택 (Language)</h2>
                <div class="flex flex-wrap gap-3">
                    <button id="lang-en" class="lang-btn active bg-blue-600 text-white px-5 py-2 rounded-lg font-medium transition-colors duration-150">English</button>
                    <button id="lang-vi" class="lang-btn bg-gray-200 text-gray-700 px-5 py-2 rounded-lg font-medium transition-colors duration-150 hover:bg-gray-300">Tiếng Việt</button>
                    <button id="lang-zh" class="lang-btn bg-gray-200 text-gray-700 px-5 py-2 rounded-lg font-medium transition-colors duration-150 hover:bg-gray-300">中文</button>
                    <button id="lang-ja" class="lang-btn bg-gray-200 text-gray-700 px-5 py-2 rounded-lg font-medium transition-colors duration-150 hover:bg-gray-300">日本語</button>
                </div>
            </section>

            <!-- 1. 의미 (Meaning) -->
            <section>
                <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-200 pb-2 mb-4">
                    <span data-lang-key="meaning_title">의미 (Meaning)</span>
                </h2>
                <div class="bg-blue-50 p-4 rounded-lg text-gray-800">
                    <p class="text-lg">
                        이 문법은 <strong>어떤 명사에 대해 가지는 일반적인 생각이나 고정관념</strong>이 <strong>모든 경우에 다 적용되는 것은 아님</strong>을 말할 때 사용합니다.
                    </p>
                    <p class="text-base mt-2" data-lang-key="meaning_desc_2">
                        (Used to correct a generalization or stereotype. It means "Just because (Noun), doesn't mean that... (all of them are... / it's always...)".)
                    </p>
                    <p class="text-base mt-2 font-medium" data-lang-key="meaning_desc_3">
                        "Just because it's/someone is [N], doesn't mean..."
                    </p>
                </div>
            </section>

            <!-- 2. 사용법 (How to Use) -->
            <section>
                <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-200 pb-2 mb-4">
                    <span data-lang-key="usage_title">사용법 (How to Use)</span>
                </h2>
                <ul class="list-disc list-inside space-y-3 text-lg">
                    <li>
                        <strong data-lang-key="usage_noun_o">명사 (Nouns) (받침 O):</strong>
                        <code class="ml-2 bg-gray-200 px-2 py-1 rounded-md text-base font-semibold text-purple-700">
                            N + -이라고 (해서) 다 ...
                        </code>
                        <div class="text-base ml-8 mt-1 text-gray-600">
                            예: 한국 사람 → <strong class="text-gray-800">한국 사람이라고</strong> 다 ...
                        </div>
                    </li>
                    <li>
                        <strong data-lang-key="usage_noun_x">명사 (Nouns) (받침 X):</strong>
                        <code class="ml-2 bg-gray-200 px-2 py-1 rounded-md text-base font-semibold text-purple-700">
                            N + -라고 (해서) 다 ...
                        </code>
                        <div class="text-base ml-8 mt-1 text-gray-600">
                            예: 부자 → <strong class="text-gray-800">부자라고</strong> 다 ... / 겨울 → <strong class="text-gray-800">겨울이라고</strong> 다 ...
                        </div>
                    </li>
                    <li>
                        <strong>문장 끝 (Sentence Ending):</strong>
                        <div class="text-base ml-8 mt-1 text-gray-600 space-y-1">
                            <p>형용사: <code class="bg-gray-200 px-2 py-1 rounded-md text-base font-semibold text-purple-700">A(으)ㄴ 것은 아니다 / 건 아니에요</code></p>
                            <p>동사: <code class="bg-gray-200 px-2 py-1 rounded-md text-base font-semibold text-purple-700">V-는 것은 아니다 / 건 아니에요</code></p>
                            <p>예: 비싸다 → <strong class="text-gray-800">비싼 것은 아니다.</strong> / 좋아하다 → <strong class="text-gray-800">좋아하는 건 아니에요.</strong></p>
                        </div>
                    </li>
                </ul>
            </section>

            <!-- 3. 예문 (Examples) -->
            <section>
                <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-200 pb-2 mb-4">
                    <span data-lang-key="examples_title">예문 (Examples)</span>
                </h2>
                <div class="space-y-4">
                    <!-- 예문 1 (대화) -->
                    <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                        <p class="text-lg"><strong class="text-sky-700">A:</strong> 한국 사람은 누구나 매운 음식을 좋아하지요?</p>
                        <p class="text-lg"><strong class="text-orange-600">B:</strong> <strong class="text-red-600 font-semibold">한국 사람이라고 다 매운 음식을 좋아하는 건 아니에요.</strong></p>
                    </div>
                    <!-- 예문 2 -->
                    <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                        <p class="text-lg">
                            <strong class="text-red-600 font-semibold">시장이라고 다 백화점보다 싼 것은 아니다.</strong>
                            <span class="block text-base text-gray-600 mt-1" data-lang-key="ex_2_translation">(Just because it's a market, doesn't mean it's always cheaper than a department store.)</span>
                        </p>
                    </div>
                    <!-- 예문 3 -->
                    <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                        <p class="text-lg">
                            <strong class="text-red-600 font-semibold">겨울이라고 다 추운 것은 아니에요.</strong>
                            <span class="block text-base text-gray-600 mt-1" data-lang-key="ex_3_translation">(Just because it's winter, doesn't mean it's always cold.)</span>
                        </p>
                    </div>
                    <!-- 예문 4 -->
                    <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                        <p class="text-lg">
                            <strong class="text-red-600 font-semibold">부자라고 다 돈을 잘 쓰는 건 아니에요.</strong>
                            <span class="block text-base text-gray-600 mt-1" data-lang-key="ex_4_translation">(Just because someone is rich, doesn't mean they all spend money well.)</span>
                        </p>
                    </div>
                    <!-- 예문 5 -->
                    <div class="bg-gray-50 border border-gray-200 p-4 rounded-lg">
                        <p class="text-lg">
                            <strong class="text-red-600 font-semibold">키 큰 사람이라고 다 농구를 잘하는 건 아니에요.</strong>
                            <span class="block text-base text-gray-600 mt-1" data-lang-key="ex_5_translation">(Just because someone is tall, doesn't mean they are all good at basketball.)</span>
                        </p>
                    </div>
                </div>
            </section>

            <!-- 4. 퀴즈 (Quiz) -->
            <section>
                <h2 class="text-2xl font-semibold text-blue-700 border-b-2 border-blue-200 pb-2 mb-4">
                    <span data-lang-key="quiz_title">연습 퀴즈 (Practice Quiz)</span>
                </h2>
                <p class="text-lg mb-6 bg-yellow-100 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                    상황을 읽고 <code class="font-semibold text-gray-800">N(이)라고 다 ... 것은 아니다</code>를 사용해서 고정관념을 바로잡는 문장을 만들어 보세요.
                    <br>
                    <span data-lang-key="quiz_desc_translation">(Read the situation and write a sentence to correct the stereotype.)</span>
                </p>

                <div class="space-y-6" id="quiz-container">
                    <!-- 퀴즈 아이템들은 JS로 생성됩니다. -->
                </div>
            </section>
        </main>
    </div>

    <script>
        let currentLang = 'en'; // 기본 언어 설정

        // 번역 데이터
        const translations = {
            // 헤더
            "header_subtitle": {
                "en": "Grammar for Correcting Generalizations",
                "vi": "Ngữ pháp sửa chữa định kiến",
                "zh": "纠正成见的语法",
                "ja": "固定観念を正す文法"
            },
            // 언어 선택
            "lang_select_title": { "en": "Select Language", "vi": "Chọn ngôn ngữ", "zh": "选择语言", "ja": "言語選択" },
            // 의미
            "meaning_title": { "en": "Meaning", "vi": "Ý nghĩa", "zh": "意义", "ja": "意味" },
            "meaning_desc_2": {
                "en": "(Used to correct a generalization or stereotype. It means \"Just because (Noun), doesn't mean that... (all of them are... / it's always...)\".)",
                "vi": "(Dùng để sửa chữa một sự khái quát hóa hoặc định kiến. Có nghĩa là \"Chỉ vì (Danh từ), không có nghĩa là... (tất cả đều... / luôn luôn...)\".)",
                "zh": "（用于纠正一种概括或成见。意思是“仅仅因为（名词），并不意味着...（所有的都... / 总是...）”。）",
                "ja": "（一般化や固定観念を正すために使われます。「（名詞）だからといって、必ずしも...（すべてが... / いつも...）とは限らない」という意味です。）"
            },
            "meaning_desc_3": {
                "en": "\"Just because it's/someone is [N], doesn't mean...\"",
                "vi": "\"Chỉ vì là [N], không có nghĩa là...\"",
                "zh": "“只因为是[N]，不意味着...”",
                "ja": "「[N]だからといって、...とは限らない」"
            },
            // 사용법
            "usage_title": { "en": "How to Use", "vi": "Cách sử dụng", "zh": "使用方法", "ja": "使い方" },
            "usage_noun_o": { "en": "Nouns (with final consonant)", "vi": "Danh từ (Có 받침)", "zh": "名词 (有收音)", "ja": "名詞 (パッチム O)" },
            "usage_noun_x": { "en": "Nouns (no final consonant)", "vi": "Danh từ (Không có 받침)", "zh": "名词 (无收音)", "ja": "名詞 (パッチム X)" },
            // 예문
            "examples_title": { "en": "Examples", "vi": "Ví dụ", "zh": "例句", "ja": "例文" },
            "ex_2_translation": { "en": "(Just because it's a market, doesn't mean it's always cheaper than a department store.)", "vi": "(Chỉ vì là chợ, không có nghĩa là luôn rẻ hơn trung tâm thương mại.)", "zh": "（只因为是市场，不意味着就比百货商店便宜。）", "ja": "（市場だからといって、すべてがデパートより安いとは限らない。）" },
            "ex_3_translation": { "en": "(Just because it's winter, doesn't mean it's always cold.)", "vi": "(Chỉ vì là mùa đông, không có nghĩa là luôn luôn lạnh.)", "zh": "（只因为是冬天，不意味着就总是很冷。）", "ja": "（冬だからといって、いつも寒いとは限らない。）" },
            "ex_4_translation": { "en": "(Just because someone is rich, doesn't mean they all spend money well.)", "vi": "(Chỉ vì là người giàu, không có nghĩa là ai cũng tiêu tiền giỏi.)", "zh": "（只因为是富人，不意味着就都很会花钱。）", "ja": "（お金持ちだからといって、みんながお金の使い方を知っているとは限らない。）" },
            "ex_5_translation": { "en": "(Just because someone is tall, doesn't mean they are all good at basketball.)", "vi": "(Chỉ vì là người cao, không có nghĩa là ai cũng chơi bóng rổ giỏi.)", "zh": "（只因为是高个子，不意味着就都擅长打篮球。）", "ja": "（背が高いからといって、みんながバスケットボールが上手とは限らない。）" },
            // 퀴즈
            "quiz_title": { "en": "Practice Quiz", "vi": "Bài tập luyện tập", "zh": "练习测验", "ja": "練習クイズ" },
            "quiz_desc_translation": {
                "en": "(Read the situation and write a sentence to correct the stereotype.)",
                "vi": "(Đọc tình huống và viết câu sửa lại định kiến.)",
                "zh": "(阅读情景并写一个句子来纠正成见。)",
                "ja": "(状況を読んで、固定観念を正す文を書いてください。)"
            },
            "quiz_label_example": { "en": "Example", "vi": "Ví dụ", "zh": "示例", "ja": "例" },
            "quiz_label_question": { "en": "Question", "vi": "Câu hỏi", "zh": "问题", "ja": "問題" },
            "quiz_placeholder": { "en": "Write the full sentence", "vi": "Viết cả câu", "zh": "请写出完整的句子", "ja": "全文を書いてください" },
            "quiz_btn_check": { "en": "Check", "vi": "Kiểm tra", "zh": "确认", "ja": "確認" },
            "quiz_btn_show": { "en": "Show Answer", "vi": "Xem đáp án", "zh": "查看答案", "ja": "答えを見る" },
            "feedback_correct": { "ko": "정답입니다!", "en": "Correct!", "vi": "Đúng rồi!", "zh": "回答正确！", "ja": "正解です！" },
            "feedback_incorrect": { "ko": "다시 시도해 보세요.", "en": "Incorrect. Try again.", "vi": "Sai rồi. Thử lại nhé.", "zh": "回答错误，请重试。", "ja": "違います。もう一度お試しください。" },
            "feedback_shown": { "ko": "정답이 표시되었습니다.", "en": "Answer is shown.", "vi": "Đáp án đã được hiển thị.", "zh": "已显示答案。", "ja": "答えが表示されました。" }
        };

        // 퀴즈 데이터
        const quizItems = [
            {
                id: 0,
                situation: "A: 한국 여자는 누구나 김치를 담글 수 있지요?",
                prompt: "(한국 여자 / 김치를 담글 수 있다)",
                answers: ["한국 여자라고 다 김치를 담글 수 있는 것은 아니다", "한국 여자라고 다 김치를 담글 수 있는 건 아니다", "한국 여자라고 다 김치를 담글 수 있는 건 아니에요"]
            },
            {
                id: 1,
                situation: "A: 서울은 어디나 집값이 비싸지요?",
                prompt: "(서울 / 집값이 비싸다)",
                answers: ["서울이라고 다 집값이 비싼 것은 아니다", "서울이라고 다 집값이 비싼 건 아니다", "서울이라고 다 집값이 비싼 건 아니에요"]
            },
            {
                id: 2,
                situation: "A: 남대문시장은 물건값이 다 싸지요?",
                prompt: "(남대문시장 / 물건값이 싸다)",
                answers: ["남대문시장이라고 다 물건값이 싼 것은 아니다", "남대문시장이라고 다 물건값이 싼 건 아니다", "남대문시장이라고 다 물건값이 싼 건 아니에요"]
            },
            {
                id: 3,
                situation: "A: 남자는 다 잘 울지 않지요?",
                prompt: "(남자 / 잘 울지 않는다)",
                answers: ["남자라고 다 잘 울지 않는 것은 아니다", "남자라고 다 잘 울지 않는 건 아니다", "남자라고 다 잘 울지 않는 건 아니에요"]
            },
            {
                id: 4,
                situation: "A: 영화배우는 다 인기가 많지요?",
                prompt: "(영화배우 / 인기가 많다)",
                answers: ["영화배우라고 다 인기가 많은 것은 아니다", "영화배우라고 다 인기가 많은 건 아니다", "영화배우라고 다 인기가 많은 건 아니에요"]
            },
            {
                id: 5,
                situation: "A: 운동선수는 다 건강하지요?",
                prompt: "(운동선수 / 건강하다)",
                answers: ["운동선수라고 다 건강한 것은 아니다", "운동선수라고 다 건강한 건 아니다", "운동선수라고 다 건강한 건 아니에요"]
            }
        ];

        const quizContainer = document.getElementById('quiz-container');

        // 언어 변경 함수
        function updateLanguage(lang) {
            currentLang = lang;

            // 모든 data-lang-key 요소 찾아서 번역 적용
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (translations[key] && translations[key][currentLang]) {
                    // h2 태그 안의 span을 구분하기 위해
                    if (element.tagName === 'SPAN' && element.parentElement.tagName === 'H2') {
                         const koreanTitle = element.parentElement.textContent.split('(')[0].trim();
                         element.innerHTML = `${koreanTitle} (${translations[key][currentLang]})`;
                    } 
                    // strong 태그 안의 텍스트를 구분하기 위해
                    else if (element.tagName === 'STRONG') {
                        const koreanText = element.textContent.split('(')[0].trim();
                        element.innerHTML = `${koreanText} (${translations[key][currentLang]})`;
                    }
                    else {
                        element.innerHTML = translations[key][currentLang];
                    }
                }
            });

            // 언어 버튼 활성/비활성 스타일 업데이트
            document.querySelectorAll('.lang-btn').forEach(btn => {
                if (btn.id === `lang-${lang}`) {
                    btn.classList.add('active', 'bg-blue-600', 'text-white');
                    btn.classList.remove('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
                } else {
                    btn.classList.remove('active', 'bg-blue-600', 'text-white');
                    btn.classList.add('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
                }
            });

            // 퀴즈 섹션 다시 그리기
            renderQuiz();
        }

        // 퀴즈 문항 생성 함수
        function renderQuiz() {
            quizContainer.innerHTML = ''; // 기존 퀴즈 내용 초기화
            
            quizItems.forEach((item, index) => {
                const isExample = index === 0;
                const quizElement = document.createElement('div');
                quizElement.className = `border ${isExample ? 'border-blue-300 bg-blue-50' : 'border-gray-300'} p-4 rounded-lg shadow-sm`;
                
                let label = isExample ? 
                    `보기 (${translations.quiz_label_example[currentLang]})` : 
                    `문제 ${item.id} (${translations.quiz_label_question[currentLang]} ${item.id})`;

                quizElement.innerHTML = `
                    <span class="font-semibold text-lg ${isExample ? 'text-blue-600' : 'text-gray-700'}">${label}</span>
                    <p class="text-lg text-gray-800 mt-2"><strong>상황:</strong> ${item.situation}</p>
                    <p class="text-lg text-gray-800 mt-2"><strong>힌트:</strong> ${item.prompt}</p>
                    <div class="mt-4 flex flex-wrap items-center gap-2 text-lg">
                        <span class="font-medium"><strong>반응:</strong></span>
                        <input type="text" id="input-${item.id}" 
                               class="border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 p-2 flex-1 min-w-[200px]" 
                               placeholder="${translations.quiz_placeholder[currentLang]}">
                    </div>
                    <div class="mt-3 flex items-center gap-3">
                        <button onclick="checkAnswer(${item.id})" 
                                class="bg-blue-600 text-white px-4 py-2 rounded-md font-medium hover:bg-blue-700 transition duration-150">
                            ${translations.quiz_btn_check[currentLang]}
                        </button>
                        <button onclick="showAnswer(${item.id})" 
                                class="bg-gray-500 text-white px-4 py-2 rounded-md font-medium hover:bg-gray-600 transition duration-150">
                            ${translations.quiz_btn_show[currentLang]}
                        </button>
                    </div>
                    <div id="feedback-${item.id}" class="feedback"></div>
                `;
                quizContainer.appendChild(quizElement);
            });
        }

        // 정답 확인 함수
        function checkAnswer(id) {
            const input = document.getElementById(`input-${id}`).value.trim().replace(/\./g, ''); // 마침표 제거
            const feedback = document.getElementById(`feedback-${id}`);
            const correctAnswers = quizItems.find(item => item.id === id).answers;

            if (correctAnswers.includes(input)) {
                feedback.textContent = `${translations.feedback_correct.ko} (${translations.feedback_correct[currentLang]})`;
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = `${translations.feedback_incorrect.ko} (${translations.feedback_incorrect[currentLang]})`;
                feedback.className = "feedback incorrect";
            }
        }

        // 정답 보기 함수
        function showAnswer(id) {
            const input = document.getElementById(`input-${id}`);
            const feedback = document.getElementById(`feedback-${id}`);
            const correctAnswser = quizItems.find(item => item.id === id).answers[0]; // 첫 번째 답을 정답으로 표시
            
            input.value = correctAnswser;
            feedback.textContent = `${translations.feedback_shown.ko} (${translations.feedback_shown[currentLang]})`;
            feedback.className = "feedback info";
        }

        // 언어 버튼에 이벤트 리스너 추가
        document.getElementById('lang-en').addEventListener('click', () => updateLanguage('en'));
        document.getElementById('lang-vi').addEventListener('click', () => updateLanguage('vi'));
        document.getElementById('lang-zh').addEventListener('click', () => updateLanguage('zh'));
        document.getElementById('lang-ja').addEventListener('click', () => updateLanguage('ja'));

        // 페이지 로드 시 기본 언어로 초기화
        document.addEventListener('DOMContentLoaded', () => {
            updateLanguage(currentLang);
        });

    </script>
</body>
</html>
