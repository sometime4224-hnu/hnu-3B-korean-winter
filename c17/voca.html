<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ì–´íœ˜ í•™ìŠµ ì•±</title>
    <!-- Tailwind CSS ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter í°íŠ¸ ë¡œë“œ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Noto Sans KR í°íŠ¸ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš© */
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
        }

        /* ì–´íœ˜ ì¹´ë“œ í¼ì¹¨/ìˆ¨ê¹€ì„ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            visibility: hidden;
            opacity: 0;
        }

        .details-content.open {
            max-height: 500px; /* ì¶©ë¶„íˆ í° ê°’ */
            visibility: visible;
            opacity: 1;
            transition: max-height 0.4s ease-in, opacity 0.3s ease-in 0.1s;
        }

        /* íƒ­ ë²„íŠ¼ í™œì„±/ë¹„í™œì„± ìŠ¤íƒ€ì¼ */
        .tab-btn {
            transition: all 0.2s ease-in-out;
        }

        .tab-btn.active {
            color: #2563EB; /* text-blue-600 */
            border-bottom-width: 3px;
            border-color: #2563EB;
        }

        .tab-btn.inactive {
            color: #6B7280; /* text-gray-500 */
        }
        
        /* í€´ì¦ˆ ì˜µì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .option-btn {
            transition: all 0.2s ease-in-out;
        }
        .option-btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- 
      ë©”ì¸ ì»¨í…Œì´ë„ˆ: 
      ëª¨ë°”ì¼ í™”ë©´ì— ìµœì í™”ë˜ë„ë¡ ìµœëŒ€ ë„ˆë¹„(max-w-lg)ë¥¼ ì„¤ì •í•˜ê³ ,
      í™”ë©´ ì¤‘ì•™(mx-auto)ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
      min-h-screenê³¼ bg-whiteë¡œ ì „ì²´ í™”ë©´ì„ ì•±ì²˜ëŸ¼ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
    -->
    <div class="container mx-auto max-w-lg min-h-screen bg-white shadow-2xl flex flex-col">

        <!-- í—¤ë” -->
        <header class="text-center py-5 bg-blue-600 shadow-md">
            <h1 class="text-2xl font-bold text-white">í•œêµ­ì–´ ì–´íœ˜ í•™ìŠµ</h1>
        </header>

        <!-- 
          í˜ì´ì§€ ì»¨í…ì¸  ì˜ì—­: 
          flex-growë¡œ ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì±„ì›Œ í•˜ë‹¨ íƒ­ì´ ë§¨ ì•„ë˜ì— ê³ ì •ë˜ë„ë¡ í•©ë‹ˆë‹¤.
          pb-20ì€ í•˜ë‹¨ íƒ­ê³¼ì˜ ì—¬ë°±ì…ë‹ˆë‹¤.
        -->
        <main class="flex-grow p-4 pb-20">

            <!-- í˜ì´ì§€ 1: ì–´íœ˜ í•™ìŠµ -->
            <section id="page-vocab" class="space-y-6">
                <!-- ì–´íœ˜ ì¹´ë“œëŠ” JavaScriptë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤. -->
            </section>

            <!-- í˜ì´ì§€ 2: í€´ì¦ˆ -->
            <section id="page-quiz" class="hidden flex flex-col h-full pt-4">
                
                <!-- í€´ì¦ˆ ì˜µì…˜ (í™”ë©´ ìµœìƒë‹¨) -->
                <div id="quiz-options" class="w-full grid grid-cols-2 gap-3 mb-6">
                    <!-- í€´ì¦ˆ ì˜µì…˜ ë²„íŠ¼ì€ JavaScriptë¡œ ìƒì„±ë©ë‹ˆë‹¤. -->
                </div>

                <!-- í€´ì¦ˆ ë¬¸ì œ (í™”ë©´ ì¤‘ì•™ ìƒë‹¨) -->
                <div class="w-full bg-blue-50 p-6 rounded-lg shadow-md mb-4 flex-grow flex items-center justify-center">
                    <p id="quiz-question" class="text-xl font-medium text-center text-gray-800 h-24">
                        <!-- í€´ì¦ˆ ë¬¸ì œê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
                    </p>
                </div>

                <!-- í€´ì¦ˆ íŒíŠ¸ (ì¶”ê°€ëœ ë¶€ë¶„) -->
                <div class="w-full px-4 mb-4">
                    <p id="quiz-hint" class="text-center text-gray-600 italic text-base h-10">
                        <!-- í€´ì¦ˆ íŒíŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
                    </p>
                </div>

                <!-- í€´ì¦ˆ í”¼ë“œë°± -->
                <div id="quiz-feedback" class="mt-4 text-lg font-semibold h-8 text-center">
                    <!-- 'ì •ë‹µì…ë‹ˆë‹¤!' ë˜ëŠ” 'í‹€ë ¸ìŠµë‹ˆë‹¤.'ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤. -->
                </div>

                <!-- ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼ -->
                <button id="next-question" class="hidden mt-6 w-full bg-blue-600 text-white p-3 rounded-lg font-bold shadow-md hover:bg-blue-700 transition duration-200">
                    ë‹¤ìŒ ë¬¸ì œ
                </button>
            </section>
        </main>

        <!-- 
          í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ íƒ­: 
          ëª¨ë°”ì¼ ì•±ê³¼ ìœ ì‚¬í•œ UIë¥¼ ìœ„í•´ í™”ë©´ í•˜ë‹¨ì— ê³ ì •í•©ë‹ˆë‹¤.
        -->
        <nav class="fixed bottom-0 left-0 right-0 max-w-lg mx-auto bg-white border-t border-gray-200 shadow-inner z-10">
            <div class="flex justify-around">
                <button id="tab-vocab" class="tab-btn active flex-1 py-3 font-semibold">
                    ì–´íœ˜ í•™ìŠµ
                </button>
                <button id="tab-quiz" class="tab-btn inactive flex-1 py-3 font-semibold">
                    í€´ì¦ˆ
                </button>
            </div>
        </nav>
    </div>

    <script>
        // --- ë°ì´í„° ì •ì˜ ---

        // ì–´íœ˜ ë°ì´í„° (ìš”ì²­ëŒ€ë¡œ ì˜ˆë¬¸ 2ê°œ ì´ìƒ)
        const vocabData = [
            {
                category: "ì†Œë¬¸ ê´€ë ¨ ì–´íœ˜",
                word: "ì†Œë¬¸ì´ ë‚˜ë‹¤",
                explanation: "ì–´ë–¤ ì´ì•¼ê¸°ê°€ ì‚¬ëŒë“¤ì—ê²Œ ì•Œë ¤ì§€ê¸° ì‹œì‘í•˜ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ë‘ ì‚¬ëŒì´ ì‚¬ê·„ë‹¤ëŠ” ì†Œë¬¸ì´ ë‚¬ì–´ìš”.",
                    "ê·¸ ê°€ê²Œê°€ ê³§ ë¬¸ì„ ë‹«ëŠ”ë‹¤ëŠ” ì†Œë¬¸ì´ ë‚¬ë‹¤."
                ]
            },
            {
                category: "ì†Œë¬¸ ê´€ë ¨ ì–´íœ˜",
                word: "ì†Œë¬¸ì„ ë‚´ë‹¤",
                explanation: "(ì£¼ë¡œ ë‚˜ìœ) ì´ì•¼ê¸°ë¥¼ ë§Œë“¤ì–´ì„œ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ë§í•˜ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ëˆ„ê°€ ê·¸ëŸ° ë‚˜ìœ ì†Œë¬¸ì„ ëƒˆì–´ìš”?",
                    "ì—†ëŠ” ì‚¬ì‹¤ì„ ì§€ì–´ë‚´ì„œ ì†Œë¬¸ì„ ë‚´ë©´ ì•ˆ ë¼ìš”."
                ]
            },
            {
                category: "ì†Œë¬¸ ê´€ë ¨ ì–´íœ˜",
                word: "ì†Œë¬¸ì´ í¼ì§€ë‹¤",
                explanation: "ì´ì•¼ê¸°ê°€ ë§ì€ ì‚¬ëŒì—ê²Œ ë¹ ë¥´ê²Œ ì•Œë ¤ì§€ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ê·¸ ì†Œë¬¸ì´ í•™êµ ì „ì²´ì— ê¸ˆë°© í¼ì¡Œì–´ìš”.",
                    "ì¸í„°ë„· ë•Œë¬¸ì— ì†Œë¬¸ì´ ë” ë¹¨ë¦¬ í¼ì§€ëŠ” ê²ƒ ê°™ì•„ìš”."
                ]
            },
            {
                category: "ì†Œë¬¸ ê´€ë ¨ ì–´íœ˜",
                word: "ì†Œë¬¸ì„ í¼ëœ¨ë¦¬ë‹¤",
                explanation: "ì–´ë–¤ ì´ì•¼ê¸°ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì¼ë¶€ëŸ¬ ë„ë¦¬ ì•Œë¦¬ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ê±°ì§“ ì†Œë¬¸ì„ í¼ëœ¨ë¦¬ì§€ ë§ˆì„¸ìš”.",
                    "ê²½ìŸì‚¬ì— ëŒ€í•œ ë‚˜ìœ ì†Œë¬¸ì„ í¼ëœ¨ë¦° ì‚¬ëŒì´ ì¡í˜”ëŒ€ìš”."
                ]
            },
            {
                category: "ì¶”ì¸¡ ë° í™•ì‹  ê´€ë ¨ ì–´íœ˜",
                word: "ê·¸ëŸ´ ë¦¬ê°€ ì—†ë‹¤",
                explanation: "'ì ˆëŒ€ ì•„ë‹ˆì—ìš”', 'ë§ë„ ì•ˆ ë¼ìš”'ë¼ëŠ” ëœ»ì´ì—ìš”. ì•„ì£¼ ê°•í•˜ê²Œ ì•„ë‹ˆë¼ê³  ë§í•  ë•Œ ì¨ìš”.",
                examples: [
                    "A: 00 ì”¨ê°€ 1ë“±ì„ í–ˆëŒ€ìš”. B: ê·¸ëŸ´ ë¦¬ê°€ ì—†ì–´ìš”! ê³µë¶€ í•˜ë‚˜ë„ ì•ˆ í–ˆì–´ìš”.",
                    "ê·¸ ì°©í•œ ì‚¬ëŒì´ ë²”ì¸ì´ë¼ê³ ? ê·¸ëŸ´ ë¦¬ê°€ ì—†ì–´."
                ]
            },
            {
                category: "ì¶”ì¸¡ ë° í™•ì‹  ê´€ë ¨ ì–´íœ˜",
                word: "ë¯¿ì–´ì§€ì§€ ì•Šë‹¤",
                explanation: "ì–´ë–¤ ì‚¬ì‹¤ì´ ì •ë§ì¸ì§€ ì˜ì‹¬ìŠ¤ëŸ½ê±°ë‚˜ ë„ˆë¬´ ë†€ë¼ì„œ ë¯¿ê¸° ì–´ë ¤ìš´ ê±°ì˜ˆìš”.",
                examples: [
                    "ê·¸ê°€ ë²Œì¨ ê²°í˜¼ì„ í–ˆë‹¤ë‹ˆ ë¯¿ì–´ì§€ì§€ ì•Šì•„ìš”.",
                    "ë‚´ê°€ ë³µê¶Œì— ë‹¹ì²¨ë˜ë‹¤ë‹ˆ, ì•„ì§ë„ ë¯¿ì–´ì§€ì§€ ì•Šì•„."
                ]
            },
            {
                category: "ì¶”ì¸¡ ë° í™•ì‹  ê´€ë ¨ ì–´íœ˜",
                word: "ê·¸ëŸ´ ìˆ˜ ìˆë‹¤",
                explanation: "'ê°€ëŠ¥í•´ìš”', 'ì´í•´í•´ìš”'ë¼ëŠ” ëœ»ì´ì—ìš”.",
                examples: [
                    "A: ì œê°€ ì‹¤ìˆ˜í–ˆì–´ìš”. B: ê´œì°®ì•„ìš”. ë°”ì˜ë©´ ê·¸ëŸ´ ìˆ˜ ìˆì–´ìš”.",
                    "A: ì € ì˜¤ëŠ˜ ì¢€ í”¼ê³¤í•´ ë³´ì—¬ìš”? B: ë„¤, ì–´ì œ ì•¼ê·¼í–ˆìœ¼ë©´ ê·¸ëŸ´ ìˆ˜ ìˆì£ ."
                ]
            },
            {
                category: "ì¶”ì¸¡ ë° í™•ì‹  ê´€ë ¨ ì–´íœ˜",
                word: "í‹€ë¦¼ì—†ë‹¤",
                explanation: "'100% ë§ì•„ìš”', 'í™•ì‹¤í•´ìš”'ë¼ëŠ” ëœ»ì´ì—ìš”.",
                examples: [
                    "ì´ê±´ ì œ ìš°ì‚°ì´ í‹€ë¦¼ì—†ì–´ìš”. ì—¬ê¸° ì œ ì´ë¦„ì´ ìˆì–´ìš”.",
                    "ë°¤ìƒˆ ëˆˆì´ ì˜¨ ê²Œ í‹€ë¦¼ì—†ì–´. ë°–ì´ í•˜ì–˜."
                ]
            },
            {
                category: "ì •ë„ì™€ ë°©ì‹ì„ ë‚˜íƒ€ë‚´ëŠ” ë§ (ë¶€ì‚¬)",
                word: "ìš°ì—°íˆ",
                explanation: "ê³„íší•˜ê±°ë‚˜ ìƒê°í•˜ì§€ ì•Šì•˜ëŠ”ë° ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚˜ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ê¸¸ì„ ê°€ë‹¤ê°€ ìš°ì—°íˆ ì˜›ë‚  ì¹œêµ¬ë¥¼ ë§Œë‚¬ì–´ìš”.",
                    "ìš°ì—°íˆ ë“¤ë¥¸ ì‹ë‹¹ì´ ë§›ì§‘ì´ì—ˆì–´ìš”."
                ]
            },
            {
                category: "ì •ë„ì™€ ë°©ì‹ì„ ë‚˜íƒ€ë‚´ëŠ” ë§ (ë¶€ì‚¬)",
                word: "ìì„¸íˆ",
                explanation: "ì•„ì£¼ ê¼¼ê¼¼í•˜ê²Œ, í•˜ë‚˜í•˜ë‚˜ ë‹¤ ë³´ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ì´ ì„œë¥˜ë¥¼ ìì„¸íˆ ì½ì–´ë³´ì„¸ìš”.",
                    "ì‚¬ê³ ê°€ ì–´ë–»ê²Œ ë‚¬ëŠ”ì§€ ìì„¸íˆ ë§ì”€í•´ ì£¼ì„¸ìš”."
                ]
            },
            {
                category: "ì •ë„ì™€ ë°©ì‹ì„ ë‚˜íƒ€ë‚´ëŠ” ë§ (ë¶€ì‚¬)",
                word: "ë¶„ëª…íˆ",
                explanation: "í™•ì‹¤í•˜ê²Œ, í‹€ë¦¼ì—†ì´ ë§ì•„ìš”.",
                examples: [
                    "ì œê°€ ë¶„ëª…íˆ ì—¬ê¸°ì— ì§€ê°‘ì„ ë’€ëŠ”ë° ì—†ì–´ì¡Œì–´ìš”.",
                    "ë‚ ì”¨ê°€ íë¦° ê²ƒì„ ë³´ë‹ˆ ì˜¤í›„ì— ë¹„ê°€ ì˜¬ ê²Œ ë¶„ëª…í•´ìš”."
                ]
            },
            {
                category: "ì •ë„ì™€ ë°©ì‹ì„ ë‚˜íƒ€ë‚´ëŠ” ë§ (ë¶€ì‚¬)",
                word: "ì†”ì§íˆ",
                explanation: "ê±°ì§“ë§ì´ë‚˜ ìˆ¨ê¸°ëŠ” ê²ƒ ì—†ì´ ë§ˆìŒì† ìƒê°ì„ ê·¸ëŒ€ë¡œ ë§í•˜ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ì†”ì§íˆ ë§í•˜ë©´, ì €ëŠ” ê·¸ ì˜í™”ê°€ ì¬ë¯¸ì—†ì—ˆì–´ìš”.",
                    "ì†”ì§íˆ ë§í•´ì¤˜ì„œ ê³ ë§ˆì›Œ. ê¸°ë¶„ ë‚˜ì˜ì§€ ì•Šì•„."
                ]
            },
            {
                category: "ê´€ê³„ì™€ ê°ì • ë³€í™” ê´€ë ¨ ì–´íœ˜",
                word: "ì‹¤ë§í•˜ë‹¤",
                explanation: "ë‚´ê°€ ê¸°ëŒ€í•˜ê³  ìƒê°í–ˆë˜ ê²ƒê³¼ ë‹¬ë¼ì„œ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì€ ê±°ì˜ˆìš”.",
                examples: [
                    "ì¹œêµ¬ê°€ ì•½ì†ì„ ì§€í‚¤ì§€ ì•Šì•„ì„œ ì‹¤ë§í–ˆì–´ìš”.",
                    "ì‹œí—˜ ì„±ì ì´ ìƒê°ë³´ë‹¤ ë‚®ì•„ì„œ ì‹¤ë§í–ˆë‹¤."
                ]
            },
            {
                category: "ê´€ê³„ì™€ ê°ì • ë³€í™” ê´€ë ¨ ì–´íœ˜",
                word: "ë‹¤íˆ¬ë‹¤",
                explanation: "ì¹œêµ¬ë‚˜ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ë§ë¡œ ì‹¸ìš°ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ì‚¬ì†Œí•œ ì¼ë¡œ ë™ìƒê³¼ ë‹¤í‰œì–´ìš”.",
                    "ì˜ê²¬ì´ ë‹¬ë¼ì„œ ë™ë£Œì™€ ë‹¤íˆ´ ë»”í–ˆì–´ìš”."
                ]
            },
            {
                category: "ê´€ê³„ì™€ ê°ì • ë³€í™” ê´€ë ¨ ì–´íœ˜",
                word: "ì˜¤í•´í•˜ë‹¤",
                explanation: "ë‹¤ë¥¸ ì‚¬ëŒì˜ ë§ì´ë‚˜ í–‰ë™ì˜ ëœ»ì„ ì˜ëª» ìƒê°í•˜ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "A: í™”ë‚¬ì–´ìš”? B: ì•„ë‹ˆìš”, ì˜¤í•´í•˜ì§€ ë§ˆì„¸ìš”. ê·¸ëƒ¥ í”¼ê³¤í•´ì„œ ê·¸ë˜ìš”.",
                    "ë‚˜ëŠ” ê·¸ê°€ ë‚˜ë¥¼ ì‹«ì–´í•œë‹¤ê³  ì˜¤í•´í–ˆë‹¤."
                ]
            },
            {
                category: "ê´€ê³„ì™€ ê°ì • ë³€í™” ê´€ë ¨ ì–´íœ˜",
                word: "ì˜¤í•´ë¥¼ í’€ë‹¤",
                explanation: "ì˜ëª» ìƒê°í–ˆë˜ ê²ƒì„ ì´ì•¼ê¸°í•´ì„œ ë°”ë¡œì¡ê³ , ë‹¤ì‹œ ê´€ê³„ê°€ ì¢‹ì•„ì§€ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ì„œë¡œ ëŒ€í™”ë¥¼ í•˜ê³  ì˜¤í•´ë¥¼ í’€ì—ˆì–´ìš”.",
                    "ì˜¤í•´ë¥¼ í’€ê³  ë‚˜ë‹ˆ ë§ˆìŒì´ í¸í•´ì¡Œì–´ìš”."
                ]
            },
            {
                category: "ê´€ê³„ì™€ ê°ì • ë³€í™” ê´€ë ¨ ì–´íœ˜",
                word: "í™”í•´í•˜ë‹¤",
                explanation: "ë‹¤íˆ°(ì‹¸ìš´) í›„ì— ë‹¤ì‹œ ì‚¬ì´ê°€ ì¢‹ì•„ì§€ëŠ” ê±°ì˜ˆìš”.",
                examples: [
                    "ì¹œêµ¬ì™€ í™”í•´í•˜ê³  ê°™ì´ ë°¥ì„ ë¨¹ì—ˆì–´ìš”.",
                    "ìš°ë¦¬ëŠ” ì‹¸ìš´ ì§€ í•˜ë£¨ ë§Œì— í™”í•´í–ˆë‹¤."
                ]
            }
        ];

        // í€´ì¦ˆ ë°ì´í„°
        const quizData = [
            {
                question: "ê·¸ê°€ ì‹œí—˜ì— ë–¨ì–´ì¡Œë‹¤ëŠ” ê±´ ____. ê³µë¶€ë¥¼ ì•„ì£¼ ì˜í–ˆì–´ìš”.",
                options: ["ê·¸ëŸ´ ë¦¬ê°€ ì—†ë‹¤", "ì†Œë¬¸ì´ ë‚˜ë‹¤", "ë‹¤íˆ¬ë‹¤", "ìš°ì—°íˆ"],
                answer: "ê·¸ëŸ´ ë¦¬ê°€ ì—†ë‹¤",
                hint: "'ì ˆëŒ€ ì•„ë‹ˆë‹¤', 'ë§ë„ ì•ˆ ëœë‹¤'ê³  ê°•í•˜ê²Œ ë¶€ì •í•˜ëŠ” í‘œí˜„ì´ì—ìš”."
            },
            {
                question: "ê¸¸ì—ì„œ ____ ì˜›ë‚  ì„ ìƒë‹˜ì„ ë§Œë‚¬ë‹¤.",
                options: ["ì†”ì§íˆ", "ë¶„ëª…íˆ", "ìš°ì—°íˆ", "ìì„¸íˆ"],
                answer: "ìš°ì—°íˆ",
                hint: "ê³„íší•˜ì§€ ì•Šì•˜ëŠ”ë° ê°‘ìê¸° ë§Œë‚¬ì„ ë•Œ ì“°ëŠ” ë§ì´ì—ìš”."
            },
            {
                question: "ì–´ì œ ì¹œêµ¬ì™€ ì‹¸ì› ì§€ë§Œ ì˜¤ëŠ˜ ____ í–ˆë‹¤.",
                options: ["ì‹¤ë§í•˜ë‹¤", "ì˜¤í•´í•˜ë‹¤", "í™”í•´í•˜ë‹¤", "ì†Œë¬¸ì„ ë‚´ë‹¤"],
                answer: "í™”í•´í•˜ë‹¤",
                hint: "ì‹¸ìš´ í›„ì— ë‹¤ì‹œ ì‚¬ì´ê°€ ì¢‹ì•„ì§€ëŠ” ê²ƒì„ ë§í•´ìš”."
            },
            {
                question: "ê·¸ ì‚¬ëŒì´ ë²”ì¸ì´ë¼ëŠ” ____ í•™êµ ì „ì²´ì— í¼ì¡Œë‹¤.",
                options: ["ì†Œë¬¸ì´", "ì˜¤í•´ê°€", "í™”í•´ê°€", "ì‹¤ë§ì´"],
                answer: "ì†Œë¬¸ì´",
                hint: "ì‚¬ëŒë“¤ ì‚¬ì´ì—ì„œ ë„ëŠ” í™•ì¸ë˜ì§€ ì•Šì€ ì´ì•¼ê¸°ì˜ˆìš”."
            },
            {
                question: "ì•½ì†ì„ ì•ˆ ì§€í‚¤ëŠ” ì¹œêµ¬ì—ê²Œ ____.",
                options: ["ì‹¤ë§í–ˆë‹¤", "í™”í•´í–ˆë‹¤", "ì˜¤í•´í–ˆë‹¤", "ë‹¤í‰œë‹¤"],
                answer: "ì‹¤ë§í–ˆë‹¤",
                hint: "ê¸°ëŒ€í–ˆë˜ ê²ƒê³¼ ë‹¬ë¼ì„œ ê¸°ë¶„ì´ ì•ˆ ì¢‹ì„ ë•Œ ì“°ëŠ” ê°ì • í‘œí˜„ì´ì—ìš”."
            },
            {
                question: "ê³„ì•½ì„œëŠ” ____ ì½ì–´ë³´ê³  ì„œëª…í•´ì•¼ í•©ë‹ˆë‹¤.",
                options: ["ì†”ì§íˆ", "ìš°ì—°íˆ", "ë¶„ëª…íˆ", "ìì„¸íˆ"],
                answer: "ìì„¸íˆ",
                hint: "ê¼¼ê¼¼í•˜ê²Œ, í•˜ë‚˜í•˜ë‚˜ ë¹ ì§ì—†ì´ í™•ì¸í•˜ëŠ” ëª¨ì–‘ì„ ëœ»í•´ìš”."
            },
            {
                question: "ë‚´ê°€ í•œ ë§ì´ ì•„ë‹Œë°, ë‚˜ì— ëŒ€í•œ ë‚˜ìœ ____.",
                options: ["ì†Œë¬¸ì„ ëƒˆì–´", "ì˜¤í•´ë¥¼ í’€ì—ˆì–´", "í™”í•´ë¥¼ í–ˆì–´", "ì†Œë¬¸ì´ ë‚¬ì–´"],
                answer: "ì†Œë¬¸ì´ ë‚¬ì–´",
                hint: "ì´ì•¼ê¸°ê°€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ì•Œë ¤ì§€ê¸° ì‹œì‘í–ˆë‹¤ëŠ” ëœ»ì´ì—ìš”."
            },
            {
                question: "ì œ ë§ì„ ____ ë§ˆì„¸ìš”. ê·¸ëŸ° ëœ»ì´ ì•„ë‹ˆì—ˆì–´ìš”.",
                options: ["ì˜¤í•´í•˜ì§€", "ì‹¤ë§í•˜ì§€", "ë‹¤íˆ¬ì§€", "í™”í•´í•˜ì§€"],
                answer: "ì˜¤í•´í•˜ì§€",
                hint: "ìƒëŒ€ë°©ì˜ ëœ»ì„ ì˜ëª» ìƒê°í•˜ëŠ” ê²ƒì„ ë§í•´ìš”."
            },
            {
                question: "____ ë§í•˜ë©´, ì´ ìŒì‹ì€ ì œ ì…ë§›ì— ì•ˆ ë§ì•„ìš”.",
                options: ["ì†”ì§íˆ", "ìì„¸íˆ", "ìš°ì—°íˆ", "ë¶„ëª…íˆ"],
                answer: "ì†”ì§íˆ",
                hint: "ìˆ¨ê¸°ê±°ë‚˜ ê±°ì§“ë§í•˜ì§€ ì•Šê³  ì‚¬ì‹¤ëŒ€ë¡œ ë§í•  ë•Œ ì¨ìš”."
            }
        ];


        // --- DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° ---
        const vocabPage = document.getElementById('page-vocab');
        const quizPage = document.getElementById('page-quiz');
        const tabVocab = document.getElementById('tab-vocab');
        const tabQuiz = document.getElementById('tab-quiz');
        
        const quizOptionsContainer = document.getElementById('quiz-options');
        const quizQuestionEl = document.getElementById('quiz-question');
        const quizHintEl = document.getElementById('quiz-hint'); // íŒíŠ¸ ìš”ì†Œ
        const quizFeedbackEl = document.getElementById('quiz-feedback');
        const nextQuestionBtn = document.getElementById('next-question');

        // í€´ì¦ˆ ìƒíƒœ ë³€ìˆ˜
        let currentQuestionIndex = 0;
        let quizInProgress = false; // í€´ì¦ˆ ì •ë‹µ í™•ì¸ ì¤‘ ì´ì¤‘ í´ë¦­ ë°©ì§€


        // --- ì–´íœ˜ ëª©ë¡ ì´ˆê¸°í™” ê¸°ëŠ¥ ---
        function initVocabList() {
            // ì–´íœ˜ ë°ì´í„°ë¥¼ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê·¸ë£¹í™”
            const groupedVocab = vocabData.reduce((acc, item) => {
                const category = item.category;
                if (!acc[category]) {
                    acc[category] = [];
                }
                acc[category].push(item);
                return acc;
            }, {});

            // ê·¸ë£¹í™”ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ HTML ìƒì„±
            for (const category in groupedVocab) {
                // ì¹´í…Œê³ ë¦¬ ì œëª© ìƒì„±
                const categoryTitle = document.createElement('h2');
                categoryTitle.className = "text-xl font-bold text-blue-700 border-b-2 border-blue-200 pb-2";
                categoryTitle.textContent = category;
                vocabPage.appendChild(categoryTitle);

                const categoryWrapper = document.createElement('div');
                categoryWrapper.className = "space-y-3";
                
                // ê° ì–´íœ˜ ì¹´ë“œ ìƒì„±
                groupedVocab[category].forEach(item => {
                    const card = document.createElement('div');
                    card.className = "bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden";

                    // í´ë¦­ ê°€ëŠ¥í•œ ë²„íŠ¼ (ì–´íœ˜)
                    const button = document.createElement('button');
                    button.className = "vocab-card-btn w-full text-left p-4 flex justify-between items-center";
                    button.innerHTML = `
                        <span class="text-lg font-semibold text-gray-900">${item.word}</span>
                        <svg class="w-5 h-5 transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>
                    `;

                    // ìˆ¨ê²¨ì§„ ìƒì„¸ ë‚´ìš© (í•´ì„¤, ì˜ˆë¬¸)
                    const details = document.createElement('div');
                    details.className = "details-content px-4 pb-4 bg-gray-50";
                    
                    const explanation = document.createElement('p');
                    explanation.className = "text-gray-700 mb-3 text-base";
                    explanation.textContent = item.explanation;

                    const exampleList = document.createElement('ul');
                    exampleList.className = "list-disc list-inside space-y-1";
                    item.examples.forEach(ex => {
                        const li = document.createElement('li');
                        li.className = "text-gray-800 text-sm";
                        li.textContent = ex;
                        exampleList.appendChild(li);
                    });

                    details.appendChild(explanation);
                    details.appendChild(exampleList);
                    card.appendChild(button);
                    card.appendChild(details);
                    categoryWrapper.appendChild(card);

                    // í´ë¦­ ì´ë²¤íŠ¸: ìƒì„¸ ë‚´ìš© í† ê¸€
                    button.addEventListener('click', () => {
                        details.classList.toggle('open');
                        button.querySelector('svg').classList.toggle('rotate-180');
                    });
                });
                
                vocabPage.appendChild(categoryWrapper);
            }
        }


        // --- í€´ì¦ˆ ê¸°ëŠ¥ ---
        
        // í€´ì¦ˆ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadQuestion(index) {
            if (index >= quizData.length) {
                // í€´ì¦ˆ ì™„ë£Œ
                showQuizCompletion();
                return;
            }

            quizInProgress = false; // ìƒˆ ë¬¸ì œ ë¡œë“œ ì‹œ í€´ì¦ˆ ì§„í–‰ ê°€ëŠ¥
            const question = quizData[index];

            // ì§ˆë¬¸ í…ìŠ¤íŠ¸ ì„¤ì •
            // ë¹ˆì¹¸ì„ '_'ë¡œ ê°•ì¡°
            quizQuestionEl.textContent = question.question.replace('____', '_______');

            // íŒíŠ¸ ì„¤ì • (ì¶”ê°€)
            quizHintEl.textContent = question.hint ? `ğŸ’¡ íŒíŠ¸: ${question.hint}` : '';

            // ì˜µì…˜ ë²„íŠ¼ ìƒì„±
            quizOptionsContainer.innerHTML = '';
            
            // ì˜µì…˜ ìˆœì„œ ì„ê¸° (ë” ë‚˜ì€ í€´ì¦ˆ ê²½í—˜ì„ ìœ„í•´)
            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);

            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = "option-btn p-3 bg-gray-100 rounded-lg text-center font-medium hover:bg-gray-200 shadow";
                button.textContent = option;
                button.addEventListener('click', () => checkAnswer(option, question.answer));
                quizOptionsContainer.appendChild(button);
            });

            // í”¼ë“œë°± ë° ë‹¤ìŒ ë²„íŠ¼ ì´ˆê¸°í™”
            quizFeedbackEl.textContent = '';
            nextQuestionBtn.classList.add('hidden');
        }

        // í€´ì¦ˆ ì™„ë£Œ ë©”ì‹œì§€
        function showQuizCompletion() {
            quizQuestionEl.textContent = 'í€´ì¦ˆ ì™„ë£Œ! ğŸ‰';
            quizHintEl.textContent = ''; // íŒíŠ¸ ìˆ¨ê¸°ê¸°
            quizOptionsContainer.innerHTML = '';
            quizFeedbackEl.textContent = `ì´ ${quizData.length}ë¬¸ì œë¥¼ ëª¨ë‘ í’€ì—ˆìŠµë‹ˆë‹¤.`;
            nextQuestionBtn.textContent = 'ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°';
            nextQuestionBtn.classList.remove('hidden');
            currentQuestionIndex = 0; // ì¸ë±ìŠ¤ ë¦¬ì…‹
        }

        // ì •ë‹µ í™•ì¸
        function checkAnswer(selectedOption, correctAnswer) {
            if (quizInProgress) return; // ì´ë¯¸ ì •ë‹µ í™•ì¸ ì¤‘ì´ë©´ ë°˜í™˜
            quizInProgress = true;

            // ëª¨ë“  ì˜µì…˜ ë²„íŠ¼ ë¹„í™œì„±í™”
            const optionButtons = quizOptionsContainer.querySelectorAll('button');
            optionButtons.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('opacity-50');
                // ì •ë‹µê³¼ ì˜¤ë‹µ ì‹œê°ì  í‘œì‹œ
                if (btn.textContent === correctAnswer) {
                    btn.classList.remove('bg-gray-100');
                    btn.classList.add('bg-green-500', 'text-white');
                } else if (btn.textContent === selectedOption) {
                    btn.classList.remove('bg-gray-100');
                    btn.classList.add('bg-red-500', 'text-white');
                }
            });

            // í”¼ë“œë°± í‘œì‹œ
            if (selectedOption === correctAnswer) {
                quizFeedbackEl.textContent = 'ì •ë‹µì…ë‹ˆë‹¤! âœ…';
                quizFeedbackEl.className = 'mt-4 text-lg font-semibold h-8 text-center text-green-600';
            } else {
                quizFeedbackEl.textContent = `í‹€ë ¸ìŠµë‹ˆë‹¤. âŒ (ì •ë‹µ: ${correctAnswer})`;
                quizFeedbackEl.className = 'mt-4 text-lg font-semibold h-8 text-center text-red-600';
            }

            // ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼ í‘œì‹œ
            nextQuestionBtn.textContent = (currentQuestionIndex === quizData.length - 1) ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ ë¬¸ì œ';
            nextQuestionBtn.classList.remove('hidden');
        }

        // ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        nextQuestionBtn.addEventListener('click', () => {
            if (quizQuestionEl.textContent.includes('í€´ì¦ˆ ì™„ë£Œ')) {
                // í€´ì¦ˆ ì™„ë£Œ í›„ 'ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°'
                loadQuestion(0);
            } else {
                // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        });


        // --- íƒ­ ì „í™˜ ê¸°ëŠ¥ ---
        function switchTab(pageToShow) {
            if (pageToShow === 'vocab') {
                vocabPage.classList.remove('hidden');
                quizPage.classList.add('hidden');
                tabVocab.classList.add('active');
                tabVocab.classList.remove('inactive');
                tabQuiz.classList.add('inactive');
                tabQuiz.classList.remove('active');
            } else {
                vocabPage.classList.add('hidden');
                quizPage.classList.remove('hidden');
                tabVocab.classList.remove('active');
                tabVocab.classList.add('inactive');
                tabQuiz.classList.remove('inactive');
                tabQuiz.classList.add('active');
                
                // í€´ì¦ˆ í˜ì´ì§€ë¡œ ì „í™˜ ì‹œ, í€´ì¦ˆê°€ ì‹œì‘ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì²« ë¬¸ì œ ë¡œë“œ
                if (currentQuestionIndex === 0 && !quizInProgress) {
                    loadQuestion(0);
                }
            }
        }

        tabVocab.addEventListener('click', () => switchTab('vocab'));
        tabQuiz.addEventListener('click', () => switchTab('quiz'));


        // --- ì•± ì´ˆê¸°í™” ---
        document.addEventListener('DOMContentLoaded', () => {
            initVocabList();
            // í€´ì¦ˆëŠ” íƒ­ì„ í´ë¦­í•  ë•Œ ì²˜ìŒ ë¡œë“œë˜ë„ë¡ ì„¤ì •
            // loadQuestion(currentQuestionIndex); 
            switchTab('vocab'); // ê¸°ë³¸ìœ¼ë¡œ ì–´íœ˜ í•™ìŠµ íƒ­ í‘œì‹œ
        });
    </script>
</body>
</html>
