<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울대 한국어 3B - 16~18과 평가하기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f4f8;
            -webkit-tap-highlight-color: transparent;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Toggle Switch Custom Style */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #3b82f6;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #3b82f6;
        }
        
        .mode-transition {
            transition: max-width 0.3s ease-in-out, padding 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-slate-800 min-h-screen flex flex-col items-center justify-center p-4">

    <!-- App Container -->
    <div id="app-container" class="w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden mode-transition flex flex-col" style="min-height: 85vh;">
        
        <!-- Header -->
        <header class="bg-indigo-600 p-4 text-white flex justify-between items-center shrink-0">
            <div>
                <h1 class="text-lg font-bold">3B 복습 6 (평가하기)</h1>
                <p class="text-xs text-indigo-200">16-18과 실전 문제</p>
            </div>
            
            <!-- View Mode Toggle -->
            <div class="flex items-center">
                <span class="text-xs mr-2 font-medium">PC모드</span>
                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                    <input type="checkbox" name="toggle" id="view-toggle" class="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer transition-all duration-300" style="top: 2px; left: 2px;"/>
                    <label for="view-toggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                </div>
            </div>
        </header>

        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 h-2 shrink-0">
            <div id="progress-bar" class="bg-indigo-400 h-2 transition-all duration-300" style="width: 0%"></div>
        </div>

        <!-- Main Content Area -->
        <main id="quiz-content" class="flex-grow p-6 flex flex-col justify-center relative overflow-y-auto">
            
            <!-- Start Screen -->
            <div id="start-screen" class="text-center space-y-6 fade-in">
                <div class="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto text-4xl">
                    📝
                </div>
                <h2 class="text-2xl font-bold text-gray-800">실전 평가 시작</h2>
                <p class="text-gray-600 leading-relaxed">
                    16과에서 18과까지의 내용을<br>
                    평가하는 문제입니다.<br>
                    (총 <span id="total-count-display">0</span>문제)
                </p>
                <button onclick="startQuiz()" class="w-full py-4 bg-indigo-600 text-white rounded-xl font-bold shadow-lg hover:bg-indigo-700 transition transform hover:-translate-y-1">
                    문제 풀기 시작
                </button>
            </div>

            <!-- Question Card -->
            <div id="question-card" class="hidden flex-col h-full fade-in">
                <div class="mb-4">
                    <span id="q-category" class="inline-block px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full mb-2">Category</span>
                    <h3 id="q-text" class="text-xl font-bold leading-snug text-gray-800 mb-4 whitespace-pre-wrap">
                        문제 내용이 여기에 표시됩니다.
                    </h3>
                </div>

                <!-- Options Area -->
                <div id="options-container" class="space-y-3 flex-grow">
                    <!-- Options injected by JS -->
                </div>

                <!-- Feedback Area (Hidden initially) -->
                <div id="feedback-area" class="hidden mt-4 p-4 rounded-xl bg-gray-50 border border-gray-200">
                    <div id="feedback-icon" class="text-3xl mb-2"></div>
                    <p id="feedback-text" class="text-sm font-medium text-gray-700"></p>
                    <button id="next-btn" onclick="nextQuestion()" class="mt-3 w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700">
                        다음 문제 →
                    </button>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="hidden text-center space-y-6 fade-in my-auto">
                <div class="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto text-5xl">
                    🏆
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">평가 완료!</h2>
                    <p class="text-gray-600 mt-2">수고하셨습니다.</p>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200">
                    <p class="text-sm text-gray-500 mb-1">총 점수</p>
                    <p class="text-4xl font-black text-indigo-600"><span id="score">0</span> / <span id="total-score">0</span></p>
                </div>

                <div class="flex space-x-3">
                    <button onclick="restartQuiz()" class="flex-1 py-3 bg-white border-2 border-indigo-600 text-indigo-600 rounded-xl font-bold hover:bg-indigo-50">
                        다시 풀기
                    </button>
                </div>
            </div>

        </main>
    </div>

    <script>
        // Quiz Data extracted from "3B 복습6 평가하기.pdf"
        const quizData = [
            // [1-3] 무엇에 대한 이야기입니까?
            {
                id: 1,
                category: "주제 찾기",
                question: "다음은 무엇에 대한 이야기입니까?\n\n\"이번 공연을 보기 위해서 해외에서 온 팬들도 많다고 해요.\"",
                options: ["영화", "관객", "대본", "연극"],
                answer: 1,
                explanation: "공연을 보러 온 '팬들'에 대해 이야기하고 있으므로, 글의 중심 소재(주제)는 '관객'입니다."
            },
            {
                id: 2,
                category: "주제 찾기",
                question: "다음은 무엇에 대한 이야기입니까?\n\n\"김 부장님이 곧 회사를 그만둘 거라는 말이 회사 안에 돌고 있다.\"",
                options: ["오해", "실망", "화해", "소문"],
                answer: 3,
                explanation: "사람들 사이에서 전해지는 말, 즉 '말이 돌고 있다'는 것은 '소문'을 의미합니다."
            },
            {
                id: 3,
                category: "주제 찾기",
                question: "다음은 무엇에 대한 이야기입니까?\n\n\"답답한 도시를 떠나 자연 속에서 하룻밤을 지내면 마음에 여유가 생기는 것 같다.\"",
                options: ["서핑", "암벽 등반", "캠핑", "번지 점프"],
                answer: 2,
                explanation: "도시를 떠나 야외(자연 속)에서 잠을 자며 지내는 활동은 '캠핑'입니다."
            },

            // [4-7] 빈칸에 제일 알맞은 것
            {
                id: 4,
                category: "빈칸 채우기 (문법/어휘)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"용산은 전자 제품이 싸기로 (________) 곳이다.\"",
                options: ["인기 있는", "유명한", "발전한", "설명한"],
                answer: 1,
                explanation: "어떤 특징으로 널리 알려져 있다는 뜻의 문법 '-기로 유명하다'가 자연스럽습니다."
            },
            {
                id: 5,
                category: "빈칸 채우기 (어휘)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"조용한 음악을 들으면서 천천히 숨을 쉬면 마음이 (________).\"",
                options: ["편안해져요", "신이 나요", "뛰어요", "일어나요"],
                answer: 0,
                explanation: "조용한 음악과 심호흡은 마음을 차분하고 '편안하게' 만듭니다."
            },
            {
                id: 6,
                category: "빈칸 채우기 (어휘)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"농부는 아내에게 들킬까 봐 거울을 옷장 속에 몰래 (________).\"",
                options: ["빼앗았어요", "깨뜨렸어요", "들여다봤어요", "숨겼어요"],
                answer: 3,
                explanation: "남이 보지 못하게('들킬까 봐') 하는 행동은 '숨기는' 것입니다."
            },
            {
                id: 7,
                category: "빈칸 채우기 (부사)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"배낭여행을 하다가 런던에서 (________) 고등학교 동창을 만났는데 얼마나 반가웠는지 모른다.\"",
                options: ["깜짝", "몰래", "우연히", "분명히"],
                answer: 2,
                explanation: "약속하지 않고 뜻밖에 만난 상황이므로 '우연히'가 가장 적절합니다."
            },

            // [8-10] 밑줄 친 부분과 바꿀 수 있는 것
            {
                id: 8,
                category: "유의어 찾기",
                question: "밑줄 친 부분과 바꿔 쓸 수 있는 말을 고르세요.\n\n\"카페에서 주앙 씨가 피아노 <u>연주하는</u> 것을 봤는데 정말 멋있던데요.\"",
                options: ["치는", "부는", "켜는", "누르는"],
                answer: 0,
                explanation: "피아노를 '연주하다'는 피아노를 '치다'라고 표현합니다."
            },
            {
                id: 9,
                category: "유의어 찾기",
                question: "밑줄 친 부분과 바꿔 쓸 수 있는 말을 고르세요.\n\n\"배우 유성이 재벌 2세와 결혼한다는 <u>소문이 나서</u> 이제 모르는 사람이 없다.\"",
                options: ["퍼뜨려서", "퍼져서", "지나가서", "나와서"],
                answer: 1,
                explanation: "소문이 '나다'는 소문이 널리 알려지다는 뜻으로 '퍼지다'와 의미가 같습니다."
            },
            {
                id: 10,
                category: "유의어 찾기",
                question: "밑줄 친 부분과 바꿔 쓸 수 있는 말을 고르세요.\n\n\"까만색 양복을 입은 남자가 저 집으로 들어가는 걸 제가 <u>분명히</u> 봤다니까요.\"",
                options: ["틀림없이", "일부러", "실수로", "저절로"],
                answer: 0,
                explanation: "'분명히'는 확실하다는 뜻이므로 '틀림없이'와 바꿔 쓸 수 있습니다."
            },

            // [11-14] 빈칸에 제일 알맞은 것
            {
                id: 11,
                category: "빈칸 채우기 (관용구)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"(________) 월급을 모아 언제 집을 살지 걱정이다.\"",
                options: ["모기만 한", "쥐꼬리만 한", "손바닥만 한", "엄지손가락만 한"],
                answer: 1,
                explanation: "매우 적은 양(특히 월급 등)을 비유할 때 '쥐꼬리만 하다'라는 관용 표현을 씁니다."
            },
            {
                id: 12,
                category: "빈칸 채우기 (문법)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"지난번에 소개팅 한 남자를 학교에서 만났지만 그냥 (________)했다.\"",
                options: ["본 척", "보는 척", "못 보는 척", "못 본 척"],
                answer: 3,
                explanation: "실제로는 봤지만 안 본 것처럼 행동했다는 의미이므로 '못 본 척하다'가 맞습니다."
            },
            {
                id: 13,
                category: "빈칸 채우기 (문법)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"저는 그 돈을 가져가지 않았어요. 정말 (________).\"",
                options: ["안 가져가다니", "안 가져갔다니까요", "안 가져갈 생각이에요", "안 가져가고 말았어요"],
                answer: 1,
                explanation: "자신의 말을 믿어달라고 강조하거나 반복해서 말할 때 사용하는 '-다니까요'가 적절합니다."
            },
            {
                id: 14,
                category: "빈칸 채우기 (문법)",
                question: "빈칸에 제일 알맞은 것을 고르세요.\n\n\"눈길에 미끄러지지 않으려고 조심했지만 결국 (________).\"",
                options: ["미끄러질 뻔했어요", "미끄러지지 않으면 안 돼요", "미끄러지고 말았어요", "미끄러지는 척했어요"],
                answer: 2,
                explanation: "노력했지만 원하지 않는 결과가 일어났음을 나타내는 문법 '-고 말다'를 사용하여 '미끄러지고 말았어요'가 적절합니다."
            },

            // [15-17] 밑줄 친 부분과 의미가 비슷한 것
            {
                id: 15,
                category: "문맥적 의미",
                question: "밑줄 친 부분과 의미가 비슷한 것을 고르세요.\n\n\"조금 덥긴 하지만 <u>참을 만해요</u>.\"",
                options: ["참다니요", "참을 수 있어요", "참는 척해요", "참을 생각이에요"],
                answer: 1,
                explanation: "여기서 '-(으)ㄹ 만하다'는 '가능하다', '견딜 수 있다'는 의미입니다. 즉 '참을 수 있어요'와 비슷합니다."
            },
            {
                id: 16,
                category: "문맥적 의미",
                question: "밑줄 친 부분과 의미가 비슷한 것을 고르세요.\n\n\"이가 아파서 딱딱한 음식은 <u>먹을 생각도 못 해요</u>.\"",
                options: ["안 먹을 생각이에요", "정말 먹을 만해요", "전혀 못 먹어요", "먹고 말았어요"],
                answer: 2,
                explanation: "'-(으)ㄹ 생각도 못 하다'는 엄두를 내지 못한다는 뜻으로, 상황상 불가능함(전혀 못 먹음)을 의미합니다."
            },
            {
                id: 17,
                category: "문맥적 의미",
                question: "밑줄 친 부분과 의미가 비슷한 것을 고르세요.\n\n\"우리 팀이 더 잘했는데 경기에서 지다니 <u>그럴 리가 없어요</u>.\"",
                options: ["틀림없어요", "그럴 만해요", "믿어지지 않아요", "그렇다니까요"],
                answer: 2,
                explanation: "'그럴 리가 없다'는 사실을 믿을 수 없거나 강하게 부정할 때 쓰므로 '믿어지지 않아요'와 의미가 통합니다."
            }
        ];

        // App State
        let currentQuestionIndex = 0;
        let score = 0;
        let isPCMode = false;

        // DOM Elements
        const appContainer = document.getElementById('app-container');
        const viewToggle = document.getElementById('view-toggle');
        const totalCountDisplay = document.getElementById('total-count-display');
        
        const startScreen = document.getElementById('start-screen');
        const questionCard = document.getElementById('question-card');
        const resultScreen = document.getElementById('result-screen');
        
        const progressBar = document.getElementById('progress-bar');
        const qCategory = document.getElementById('q-category');
        const qText = document.getElementById('q-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackIcon = document.getElementById('feedback-icon');
        const feedbackText = document.getElementById('feedback-text');
        const nextBtn = document.getElementById('next-btn');
        
        const scoreDisplay = document.getElementById('score');
        const totalScoreDisplay = document.getElementById('total-score');

        // Initialization
        window.onload = function() {
            totalCountDisplay.innerText = quizData.length;
            
            // Toggle Event Listener
            viewToggle.addEventListener('change', function() {
                isPCMode = this.checked;
                updateViewMode();
            });
        };

        function updateViewMode() {
            if (isPCMode) {
                appContainer.classList.remove('max-w-md');
                appContainer.classList.add('max-w-4xl');
                // PC모드일 때 문제 카드 레이아웃 변경 (Grid)
                if(!questionCard.classList.contains('hidden')){
                    questionCard.classList.add('grid', 'grid-cols-2', 'gap-8');
                }
            } else {
                appContainer.classList.remove('max-w-4xl');
                appContainer.classList.add('max-w-md');
                questionCard.classList.remove('grid', 'grid-cols-2', 'gap-8');
            }
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            questionCard.classList.remove('hidden');
            questionCard.classList.add('flex');
            updateViewMode(); // Ensure layout matches current mode
            loadQuestion();
        }

        function loadQuestion() {
            const currentData = quizData[currentQuestionIndex];
            
            // Reset UI
            feedbackArea.classList.add('hidden');
            optionsContainer.innerHTML = '';
            
            // Update Progress
            const progress = ((currentQuestionIndex) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;

            // Set Content
            qCategory.innerText = currentData.category;
            qText.innerText = currentData.question;

            // Generate Options
            currentData.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = `w-full text-left p-4 rounded-xl border-2 border-gray-200 hover:border-indigo-400 hover:bg-indigo-50 transition-all duration-200 font-medium text-gray-700 option-btn`;
                btn.innerText = `① ② ③ ④`.split(' ')[index] + '. ' + opt; // Add numbering for exam feel
                btn.onclick = () => checkAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, selectedBtn) {
            // Prevent multiple clicks
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(btn => btn.disabled = true);

            const currentData = quizData[currentQuestionIndex];
            const isCorrect = selectedIndex === currentData.answer;

            // Highlight buttons
            if (isCorrect) {
                selectedBtn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                feedbackIcon.innerHTML = '🙆‍♂️ <span class="text-green-600 font-bold text-lg">정답입니다!</span>';
                score++;
            } else {
                selectedBtn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                feedbackIcon.innerHTML = '🙅‍♀️ <span class="text-red-600 font-bold text-lg">아쉽네요.</span>';
                // Show correct answer
                allBtns[currentData.answer].classList.add('bg-green-50', 'border-green-400');
            }

            feedbackText.innerHTML = `<span class="block mt-2 font-normal text-gray-600">${currentData.explanation.replace(/\n/g, '<br>')}</span>`;
            feedbackArea.classList.remove('hidden');
            feedbackArea.classList.add('fade-in');
            
            // Scroll to feedback if needed (Mobile)
            if (!isPCMode) {
                feedbackArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            questionCard.classList.add('hidden');
            questionCard.classList.remove('flex', 'grid');
            
            scoreDisplay.innerText = score;
            totalScoreDisplay.innerText = quizData.length;
            progressBar.style.width = '100%';
            
            resultScreen.classList.remove('hidden');
        }

        function restartQuiz() {
            startQuiz();
        }

    </script>
</body>
</html>
